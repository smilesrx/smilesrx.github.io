<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 5.4.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>post - 逆玺之路</title>

  
    <meta name="description" content="C++输入和输出流程序的输入指的是从输入文件将数据传送给程序，程序的输出指的是从程序将数据传送给输出文件。 C++输入输出包含以下三个方面的内容：  对系统指定的标准设备的输入和输出。即从键盘输入数据，输出到显示器屏幕。这种输入输出称为标准的输入输出，简称标准I&#x2F;O。 以外存磁盘文件为对象进行输入和输出，即从磁盘文件输入数据，数据输出到磁盘文件。以外存文件为对象的输入输出称为文件的输入输出，简称文">
<meta property="og:type" content="article">
<meta property="og:title" content="逆玺之路">
<meta property="og:url" content="https://smilesrx.github.io/2021/04/21/C++/C++%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA%E6%B5%81/C++%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81/index.html">
<meta property="og:site_name" content="逆玺之路">
<meta property="og:description" content="C++输入和输出流程序的输入指的是从输入文件将数据传送给程序，程序的输出指的是从程序将数据传送给输出文件。 C++输入输出包含以下三个方面的内容：  对系统指定的标准设备的输入和输出。即从键盘输入数据，输出到显示器屏幕。这种输入输出称为标准的输入输出，简称标准I&#x2F;O。 以外存磁盘文件为对象进行输入和输出，即从磁盘文件输入数据，数据输出到磁盘文件。以外存文件为对象的输入输出称为文件的输入输出，简称文">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://smilesrx.github.io/C++%E7%B1%BB%E5%BA%93%E4%B8%AD%E7%9A%84%E6%B5%81%E7%B1%BB.png">
<meta property="article:published_time" content="2021-04-21T12:23:45.415Z">
<meta property="article:modified_time" content="2020-10-23T14:43:26.222Z">
<meta property="article:author" content="CandyKing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://smilesrx.github.io/C++%E7%B1%BB%E5%BA%93%E4%B8%AD%E7%9A%84%E6%B5%81%E7%B1%BB.png">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
</head>

<body>
  


  <div class='l_body' id='start'>
    <aside class='l_left'>
    

<header class='header'>
  <div class='logo-wrap'>
  
    <a class='avatar' href='/about/'>
      
        <img no-lazy class='bg' src='https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp'/>
      
      <img no-lazy class='avatar' src='http://q1.qlogo.cn/g?b=qq&nk=1607952713&s=640'/>
    </a>
  
  
    <a class='title' href='/'>
      逆玺之路
    </a>
  
</div>

  <nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/wiki/">项目</a><a class="nav-item" href="/notes/">笔记</a><a class="nav-item" href="/more/">更多</a></nav>
</header>

<div class='widgets'>
  
    
      
      
<div class="widget-wrap" id="toc"><div class="widget-header h4 dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14 post"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81I-O%E7%B1%BB%E5%BA%93%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E6%B5%81%E7%B1%BB"><span class="toc-text">1、I&#x2F;O类库中的常见流类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%B8%8Eiostream%E7%B1%BB%E5%BA%93%E6%9C%89%E5%85%B3%E7%9A%84%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-text">2、与iostream类库有关的头文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%9C%A8iostream%E5%A4%B4%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AE%9A%E4%B9%89%E7%9A%84%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-text">3、在iostream头文件中定义的流对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%9C%A8iostream%E5%A4%B4%E6%96%87%E4%BB%B6%E4%B8%AD%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">4、在iostream头文件中重载运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81cout%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-text">1、cout流对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81cerr%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-text">2、cerr流对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81clog%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-text">3、clog流对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">4、缓冲区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81cin-get-%E4%B8%80%E6%AC%A1%E5%8F%AA%E8%83%BD%E8%AF%BB%E5%8F%96%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-text">1、cin.get()             一次只能读取一个字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81cin-get-%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0-%E8%AF%BB%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-text">2、cin.get(一个参数)           读一个字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81cin-get-%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0-%E5%8F%AF%E4%BB%A5%E8%AF%BB%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">3、cin.get(两个参数)               可以读字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81cin-getline-%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">4、cin.getline()         获取字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81cin-ignore-%E5%BF%BD%E7%95%A5-%E9%BB%98%E8%AE%A4%E5%BF%BD%E7%95%A51%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C-%E5%A6%82%E6%9E%9C%E5%A1%AB%E5%85%A5%E5%8F%82%E6%95%B0X%EF%BC%8C%E4%BB%A3%E8%A1%A8%E5%BF%BD%E7%95%A5X%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-text">5、cin.ignore()      忽略 默认忽略1个字符， 如果填入参数X，代表忽略X个字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81cin-peek-%E5%81%B7%E7%AA%A5"><span class="toc-text">6、cin.peek()          偷窥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81cin-putback-%E6%94%BE%E5%9B%9E-%E6%94%BE%E5%9B%9E%E5%8E%9F%E4%BD%8D%E7%BD%AE"><span class="toc-text">7、cin.putback()      放回 放回原位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E6%A1%88%E4%BE%8B%E4%B8%80"><span class="toc-text">8、案例一</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81%E6%A1%88%E4%BE%8B%E4%BA%8C"><span class="toc-text">9、案例二</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA"><span class="toc-text">1、字符输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-text">2、格式化输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">3、注意事项</span></a></li></ol></div></div></div>

    
  
</div>


    </aside>
    <div class='l_main'>
      

      


  <div class='bread-nav fs12'>
  
    
    <div id='breadcrumb'>
      <a class='cap breadcrumb' href='/'>主页</a>
      <span class="sep"></span>
      <a class='cap breadcrumb' href='/'>文章</a>
      
    </div>
    <div id='post-meta'>
      发布于&nbsp;<time datetime='2021-04-21T12:23:45.415Z'>2021-04-21</time>
    </div>
  
  </div>


<article class='content md post'>

<h1 id="C-输入和输出流"><a href="#C-输入和输出流" class="headerlink" title="C++输入和输出流"></a>C++输入和输出流</h1><p>程序的输入指的是从输入文件将数据传送给程序，程序的输出指的是从程序将数据传送给输出文件。</p>
<p>C++输入输出包含以下三个方面的内容：</p>
<ul>
<li>对系统指定的标准设备的输入和输出。即从键盘输入数据，输出到显示器屏幕。这种输入输出称为标准的输入输出，<strong>简称标准I/O。</strong></li>
<li>以外存磁盘文件为对象进行输入和输出，即从磁盘文件输入数据，数据输出到磁盘文件。以外存文件为对象的输入输出称为文件的输入输出，<strong>简称文件I/O。</strong></li>
<li> 对内存中指定的空间进行输入和输出。通常指定一个字符数组作为存储空间(实际上可以利用该空间存储任何信息)。这种输入和输出称为字符串输入输出，<strong>简称串I/O。</strong></li>
</ul>
<p>C++编译系统提供了用于输入输出的<code>iostream</code>类库。<code>iostream</code>这个单词是由3个部 分组成的，即i-o-stream，意为输入输出流。在<code>iostream</code>类库中包含许多用于输入输出的 类</p>
<h2 id="1、I-O类库中的常见流类"><a href="#1、I-O类库中的常见流类" class="headerlink" title="1、I/O类库中的常见流类"></a>1、I/O类库中的常见流类</h2><table>
<thead>
<tr>
<th>类名</th>
<th>作用</th>
<th>头文件</th>
</tr>
</thead>
<tbody><tr>
<td>ios</td>
<td>抽象基类</td>
<td>iostream</td>
</tr>
<tr>
<td>istream</td>
<td>通用输入流和其他输入流的基类</td>
<td>iostream</td>
</tr>
<tr>
<td>ostream</td>
<td>通用输出流和其他输出流的基类</td>
<td>iostream</td>
</tr>
<tr>
<td>iostream</td>
<td>通用输入输出流和其他输入输出流的基类</td>
<td>iostream</td>
</tr>
<tr>
<td>ifstream</td>
<td>输入文件流类</td>
<td>fstream</td>
</tr>
<tr>
<td>ofstream</td>
<td>输出文件流类</td>
<td>fstream</td>
</tr>
<tr>
<td>fstream</td>
<td>输入输出文件流类</td>
<td>fstream</td>
</tr>
<tr>
<td>istrstream</td>
<td>输入字符串流类</td>
<td>strstream</td>
</tr>
<tr>
<td>ostrstream</td>
<td>输出字符串流类</td>
<td>strstream</td>
</tr>
<tr>
<td>strstream</td>
<td>输入输出字符串流类</td>
<td>strstream</td>
</tr>
</tbody></table>
<p><code>ios</code>是抽象基类，由它派生出<code>istream</code>类和<code>ostream</code>类，两个类名中第1个字母i和o分别代表输入<code>input</code>和输出<code>output</code>。<code> istream</code>类支持输入操作，<code>ostream</code>类支持输出操作， <code>iostream</code>类支持输入输出操作。<code>iostream</code>类是从<code>istream</code>类和<code>ostream</code>类通过多重继承而派生的类。其继承层次见上图表示。</p>
<p>C++对文件的输入输出需要用<code>ifstrcam</code>和<code>ofstream</code>类，两个类名中第1个字母i和o分别代表输入和输出，第2个字母f代表文件 (file)。<code>ifstream</code>支持对文件的输入操作，<code> ofstream</code>支持对文件的输出操作。类<code>ifstream</code>继承了类<code>istream</code>，类<code>ofstream</code>继承了类<code>ostream</code>，类<code>fstream</code>继承了 类<code>iostream</code>。见图 </p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/C++%E7%B1%BB%E5%BA%93%E4%B8%AD%E7%9A%84%E6%B5%81%E7%B1%BB.png" alt="C++类库中的流类"></p>
<blockquote>
<p>其中，图中的箭头代表各个类之间的派生关系。比如，<code>ios </code>是所有流类的基类，它派生出 <code>istream</code> 和 <code>ostream</code>。特别需要指出的是，为了避免多继承的二义性，从 <code>ios</code> 派生出 <code>istream</code> 和<code> ostream</code> 时，均使用了 <code>virtual </code>关键字（虚继承）。</p>
</blockquote>
<p>图 中这些流类各自的功能分别为：</p>
<ul>
<li><code>istream</code>：常用于接收从键盘输入的数据；</li>
<li><code>ostream</code>：常用于将数据输出到屏幕上；</li>
<li><code>ifstream</code>：用于读取文件中的数据；</li>
<li><code>ofstream</code>：用于向文件中写入数据；</li>
<li><code>iostream</code>：继承自 <code>istream </code>和 <code>ostream </code>类，因为该类的功能兼两者于一身，既能用于输入，也能用于输出；</li>
<li><code>fstream</code>：兼 <code>ifstream</code> 和 <code>ofstream </code>类功能于一身，既能读取文件中的数据，又能向文件中写入数据。</li>
</ul>
<h2 id="2、与iostream类库有关的头文件"><a href="#2、与iostream类库有关的头文件" class="headerlink" title="2、与iostream类库有关的头文件"></a>2、与iostream类库有关的头文件</h2><p><code>iostream</code>类库中不同的类的声明被放在不同的头文件中，用户在自己的程序中用#include命令包含了有关的头文件就相当于在本程序中声明了所需 要用到的类。可以换 —种说法：头文件是程序与类库的接口，<code>iostream</code>类库的接口分别由不同的头文件来实现。常用的有 :</p>
<ul>
<li><code>iostream</code>  包含了对输入输出流进行操作所需的基本信息。</li>
<li><code>fstream </code> 用于用户管理的文件的I/O操作。</li>
<li><code>strstream </code> 用于字符串流I/O。</li>
<li><code>stdiostream</code>  用于混合使用C和C + +的I/O机制时，例如想将C程序转变为C++程序。</li>
<li><code>iomanip </code> 在使用格式化I/O时应包含此头文件。</li>
</ul>
<h2 id="3、在iostream头文件中定义的流对象"><a href="#3、在iostream头文件中定义的流对象" class="headerlink" title="3、在iostream头文件中定义的流对象"></a>3、在iostream头文件中定义的流对象</h2><p>在 <code>iostream</code> 头文件中定义的类有<code> ios</code>，<code>istream</code>，<code>ostream</code>，<code>iostream</code>，等。</p>
<p>在<code>iostream</code>头文件中不仅定义了有关的类，还定义了4种流对象，</p>
<table>
<thead>
<tr>
<th>对象</th>
<th>含义</th>
<th>对应设备</th>
<th>对应的类</th>
<th>c语言中相应的标准文件</th>
</tr>
</thead>
<tbody><tr>
<td>cin</td>
<td>标准输入流</td>
<td>键盘</td>
<td>istream_withassign</td>
<td>stdin</td>
</tr>
<tr>
<td>cout</td>
<td>标准输出流</td>
<td>屏幕</td>
<td>ostream_withassign</td>
<td>stdout</td>
</tr>
<tr>
<td>cerr</td>
<td>标准错误流</td>
<td>屏幕</td>
<td>ostream_withassign</td>
<td>stderr</td>
</tr>
<tr>
<td>clog</td>
<td>标准错误流</td>
<td>屏幕</td>
<td>ostream_withassign</td>
<td>stderr</td>
</tr>
</tbody></table>
<h2 id="4、在iostream头文件中重载运算符"><a href="#4、在iostream头文件中重载运算符" class="headerlink" title="4、在iostream头文件中重载运算符"></a>4、在iostream头文件中重载运算符</h2><p>“&lt;&lt;”和“&gt;&gt;”本来在C++中是被定义为左位移运算符和右位移运算符的，由于在<code>iostream</code>头文件中对它们进行了重载， 使它们能用作标准类型数据的输入和输出运算符。所以，在用它们的程序中必须用#include命令把<code>iostream</code>包含到程序中。</p>
<ul>
<li><code>#include &lt;iostream&gt;</code></li>
<li><code>&gt;&gt;a</code>表示将数据放入a对象中。</li>
<li><code>&lt;&lt;a</code> 表示将a对象中存储的数据拿出。</li>
</ul>
<h1 id="标准I-O流"><a href="#标准I-O流" class="headerlink" title="标准I/O流"></a>标准I/O流</h1><p>标准I/O对象:<code>cin</code> <code>cout</code>，<code>cerr</code>，<code>clog</code></p>
<h2 id="1、cout流对象"><a href="#1、cout流对象" class="headerlink" title="1、cout流对象"></a>1、cout流对象</h2><p><code>cout</code>是console output的缩写，意为在控制台（终端显示器）的输出。强调几点：</p>
<ul>
<li><p>​    <code>cout</code>不是C++预定义的关键字，它是<code>ostream</code>流类的对象，在<code>iostream</code>中定义。 顾名思义，流是流动的数据，<code>cout</code>流是流向显示器的数据。<code>cout</code>流中的数据是用流插入运算符“&lt;&lt;”顺序加入的。如果有:<br>  <code>cout&lt;&lt;&quot;I &quot;&lt;&lt;&quot;study C++ &quot;&lt;&lt;&quot;very hard. &lt;&lt; “hello world !&quot;;</code></p>
<p>按顺序将字符串”I “, “study C++ “, “very hard.”插人到<code>cout</code>流中，<code>cout</code>就将它们送    到显示器，在显示器上输出字符串”I study C++ very hard.”。<code>cout</code>流是容纳数据的载    体，它并不是一个运算符。人们关心的是<code>cout</code>流中的内容，也就是向显示器输出什么。</p>
</li>
<li><p>用<code>cout&lt;&lt;</code>输出基本类型的数据时，可以不必考虑数据是什么类型，系统会判断数    据的类型，并根据其类型选择调用与之匹配的运算符重 载函数。这个过程都是自动的，    用户不必干预。如果在C语言中用<code>prinf</code>函数输出不同类型的数据，必须分别指定相应    的输出格式符，十分麻烦，而且容易出错。C++的I/O机制对用户来说，显然是方便    而安全的。</p>
</li>
<li><p><code>cout</code>流在内存中对应开辟了一个缓冲区，用来存放流中的数据，当向<code>cout</code>流插人一个<code>endl</code>时，不论缓冲区是否已满，都立即输出流中所有数据，然后插入一个换行符， 并刷新流（清空缓冲区）。注意如果插人一个换行符”\n“如<code>cout&lt;&lt;a&lt;&lt;&quot;\n&quot;</code>，则只输出和换行，而不刷新<code>cout</code> 流(但并不是所有编译系统都体现出这一区别）。</p>
</li>
<li><p>在<code>iostream</code>中只对”&lt;&lt;”和”&gt;&gt;”运算符用于标准类型数据的输入输出进行了重载，但未对用户声明的类型数据的输入输出进行重载。如果用户声明了新的类型，并希望用”&lt;&lt;”和”&gt;&gt;”运算符对其进行输入输出，按照重运算符重载来做。</p>
</li>
</ul>
<h2 id="2、cerr流对象"><a href="#2、cerr流对象" class="headerlink" title="2、cerr流对象"></a>2、cerr流对象</h2><p><code>cerr</code>流对象是标准错误流，<code>cerr</code>流已被指定为与显示器关联。<code>cerr</code>的 作用是向标准错误设备(standard error device)输出有关出错信息。<code>cerr</code>与标准输出流<code>cout</code>的作用和用法差不多。但有一点不同：<code>cout</code>流通常是传送到显示器输出，但也可以被重定向输出到磁盘文件，而<code>cerr</code>流中的信息只能在显示器输出。当调试程序时，往往不希望程序运行时的出错信息被送到其他文件，而要求在显示器上及时输出，这时 应该用<code>cerr</code>。<code>cerr</code>流中的信息是用户根据需要指定的。</p>
<h2 id="3、clog流对象"><a href="#3、clog流对象" class="headerlink" title="3、clog流对象"></a>3、clog流对象</h2><p><code>clog</code>流对象也是标准错误流，它是console log的缩写。它的作用和<code>cerr</code>相同，都是在终端显示器上显示出错信息。区别：<code>cerr</code>是不经过缓冲区，直接向显示器上输出有关信息，而clog中的信息存放在缓冲区中，缓冲区满后或遇<code>endl</code>时向显示器输出。</p>
<h2 id="4、缓冲区"><a href="#4、缓冲区" class="headerlink" title="4、缓冲区"></a>4、缓冲区</h2><p>缓冲区(Buffer)就是在内存中预留指定大小的存储空间用来对输入/输出(I/O)的数据作临时存储，这部分预留的内存空间就叫做缓冲区</p>
<p>缓冲区根据其对应的是输入设备还是输出设备，分为输入缓冲区和输出缓冲区</p>
<ol>
<li><p>为什么要引入缓冲区</p>
<ul>
<li>比如我们从磁盘里取信息，我们先把读出的数据放在缓冲区，计算机再直接从缓冲区中取数据，等缓冲区的数据取完后再去磁盘中读取，这样就可以减少磁盘的读写次数，再加上计算机对缓冲区的操作大大快于对磁盘的操作，故应用缓冲区可大大提高计算机的运行速度。</li>
<li>我们使用打印机打印文档，由于打印机的打印速度相对较慢，我们先把文档输出到打印机相应的缓冲区，打印机再自行逐步打印，这时我们的CPU可以处理别的事情。</li>
</ul>
</li>
<li><p>作用：缓冲区就是一块内存区，它用在输入输出设备和CPU之间，用来缓存数据。它使得低速的输入输出设备和高速的CPU能够协调工作，避免低速的输入输出设备占用CPU，解放出CPU，使其能够高效率工作。</p>
</li>
<li><p>缓冲区的类型：缓冲区 分为三种类型：全缓冲、行缓冲和不带缓冲。</p>
<ul>
<li>全缓冲：当填满标准I/O缓存后才进行实际I/O操作。全缓冲的典型代表是对磁盘文件的读写。</li>
<li>行缓冲：当在输入和输出中遇到换行符时，执行真正的I/O操作。这时，我们输入的字符先存放在缓冲区，等按下回车键换行时才进行实际的I/O操作。典型代表是键盘输入数据。</li>
<li>无缓冲：不进行缓冲，标准出错情况<code>stderr</code>是典型代表，这使得出错信息可以直接尽快地显示出来。</li>
</ul>
</li>
<li><p>缓冲区的刷新：下列情况会引发缓冲区的刷新:</p>
<ul>
<li>缓冲区满时；</li>
<li>执行flush语句；</li>
<li>执行<code>endl</code>语句；</li>
<li>关闭文件。</li>
</ul>
<p>可见，缓冲区满或关闭文件时都会刷新缓冲区，进行真正的I/O操作。另外，在C++中，我们可以使用flush函数来刷新缓冲区（执行I/O操作并清空缓冲区），如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout&lt;&lt;flush; <span class="comment">//将显存的内容立即输出到显示器上进行显示  </span></span><br><span class="line">cout&lt;&lt;”\n” &lt;&lt;flush; </span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="标准输入流"><a href="#标准输入流" class="headerlink" title="标准输入流"></a>标准输入流</h1><p>标准输入流对象cin，重点掌握的函数：</p>
<h2 id="1、cin-get-一次只能读取一个字符"><a href="#1、cin-get-一次只能读取一个字符" class="headerlink" title="1、cin.get()             一次只能读取一个字符"></a>1、<code>cin.get()</code>             一次只能读取一个字符</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链式编程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch1,ch2,ch3,ch4;</span><br><span class="line">	cin.<span class="built_in">get</span>(ch1).<span class="built_in">get</span>(ch2).<span class="built_in">get</span>(ch3).<span class="built_in">get</span>(ch4);   <span class="comment">//输入：123456  缓冲区：123456</span></span><br><span class="line">	cout&lt;&lt;ch1&lt;&lt;ch2&lt;&lt;ch3&lt;&lt;ch4&lt;&lt;endl;     <span class="comment">//输出：1234   //缓冲区：56</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//输入  a  s     第一次 a  第二次  s  第三次 换行  第四次 等待下次输入</span></span><br><span class="line">	<span class="keyword">char</span> c = cin.<span class="built_in">get</span>();   <span class="comment">//输入：as  缓冲区：as+\n</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;  <span class="comment">//输出：c=a    缓冲区：s+\n</span></span><br><span class="line">	c = cin.<span class="built_in">get</span>();       <span class="comment">//从缓冲区取一个字符给c</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;   <span class="comment">//输出：c=s   缓冲区：\n</span></span><br><span class="line">	c = cin.<span class="built_in">get</span>();       <span class="comment">//从缓冲区取一个字符给c</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;   <span class="comment">//缓冲区：空</span></span><br><span class="line">	c = cin.<span class="built_in">get</span>();       <span class="comment">//从键盘读取一个字符</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、cin-get-一个参数-读一个字符"><a href="#2、cin-get-一个参数-读一个字符" class="headerlink" title="2、cin.get(一个参数)           读一个字符"></a>2、<code>cin.get(一个参数)</code>           读一个字符</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch=cin.<span class="built_in">get</span>();    <span class="comment">//键盘输入：123----在缓冲区：123</span></span><br><span class="line">	cout&lt;&lt;ch&lt;&lt;endl;       <span class="comment">//输出：1---从缓冲区取走一个字符  缓冲区：23</span></span><br><span class="line">	cin.<span class="built_in">get</span>(ch);          <span class="comment">//从缓冲区取走一个字符给赋给ch  缓冲区：3</span></span><br><span class="line">	cout&lt;&lt;ch&lt;&lt;endl;       <span class="comment">//输出：2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、cin-get-两个参数-可以读字符串"><a href="#3、cin-get-两个参数-可以读字符串" class="headerlink" title="3、cin.get(两个参数)               可以读字符串"></a>3、<code>cin.get(两个参数) </code>              可以读字符串</h2><p>利用<code>cin.get</code>获取字符串时候，换行符遗留在缓冲区中</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> buf[<span class="number">1024</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	cin.<span class="built_in">get</span>(buf, <span class="number">1024</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> c = cin.<span class="built_in">get</span>();</span><br><span class="line">	<span class="comment">//利用cin.get获取字符串时候，换行符遗留在缓冲区中</span></span><br><span class="line">	<span class="keyword">if</span> (  c== <span class="string">&#x27;\n&#x27;</span>)&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;换行符遗留在缓冲区&quot;</span> &lt;&lt; endl;     </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;换行符不在缓冲区&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4、cin-getline-获取字符串"><a href="#4、cin-getline-获取字符串" class="headerlink" title="4、cin.getline()         获取字符串"></a>4、<code>cin.getline() </code>        获取字符串</h2><p>利用<code>cin.getline</code>获取字符串时候，换行符不会被取走，也不在缓冲区中，而是直接扔掉</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> buf[<span class="number">1024</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="comment">//利用cin.getline获取字符串时候，换行符不会被取走，也不在缓冲区中，而是直接扔掉</span></span><br><span class="line">	cin.<span class="built_in">getline</span>(buf, <span class="number">1024</span>);</span><br><span class="line">	<span class="keyword">char</span> c = cin.<span class="built_in">get</span>();</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="string">&#x27;\n&#x27;</span>)&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;换行符遗留在缓冲区&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;换行符不在缓冲区&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="5、cin-ignore-忽略-默认忽略1个字符，-如果填入参数X，代表忽略X个字符"><a href="#5、cin-ignore-忽略-默认忽略1个字符，-如果填入参数X，代表忽略X个字符" class="headerlink" title="5、cin.ignore()      忽略 默认忽略1个字符， 如果填入参数X，代表忽略X个字符"></a>5、<code>cin.ignore()</code>      忽略 默认忽略1个字符， 如果填入参数X，代表忽略X个字符</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin.<span class="built_in">ignore</span>(<span class="number">2</span>);       <span class="comment">//忽略2个字符   输入：123456   缓冲区：3456---两个字符被忽略</span></span><br><span class="line">	<span class="keyword">char</span> c = cin.<span class="built_in">get</span>();  <span class="comment">//从缓冲区取走一个字符给c       缓冲区：456    </span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;        <span class="comment">//输出：c=3----两个字符被忽略</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6、cin-peek-偷窥"><a href="#6、cin-peek-偷窥" class="headerlink" title="6、cin.peek()          偷窥"></a>6、<code>cin.peek() </code>         偷窥</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c = cin.<span class="built_in">peek</span>();          <span class="comment">//输入：12 窥探一个字符：1    缓冲区：12+\n</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;      <span class="comment">//输出：c=1  </span></span><br><span class="line"></span><br><span class="line">	c = cin.<span class="built_in">get</span>();         <span class="comment">//从缓冲区取走一个字符给c       缓冲区：2+\n</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;      <span class="comment">//输出：c=1</span></span><br><span class="line"></span><br><span class="line">	c = cin.<span class="built_in">get</span>();         <span class="comment">//从缓冲区取走一个字符给c       缓冲区：\n</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;      <span class="comment">//输出：c=2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7、cin-putback-放回-放回原位置"><a href="#7、cin-putback-放回-放回原位置" class="headerlink" title="7、cin.putback()      放回 放回原位置"></a>7、<code>cin.putback()</code>      放回 放回原位置</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c = cin.<span class="built_in">get</span>();       <span class="comment">//输入：123456 缓冲区：123456 获取一个字符给c</span></span><br><span class="line">	cin.<span class="built_in">putback</span>(c);          <span class="comment">//将c放回原位置</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> buf[<span class="number">1024</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line">	cin.<span class="built_in">getline</span>(buf, <span class="number">1024</span>);   <span class="comment">//从缓冲区获取一个字符串</span></span><br><span class="line">	cout &lt;&lt; buf &lt;&lt; endl;      <span class="comment">//输出：123456</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8、案例一"><a href="#8、案例一" class="headerlink" title="8、案例一"></a>8、案例一</h2><p>判断用户输入的是数组还是字符串</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入一个字符串或者数字&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">char</span> ch=cin.<span class="built_in">peek</span>();</span><br><span class="line">	<span class="keyword">if</span>(ch&gt;<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> num;</span><br><span class="line">		cin&gt;&gt;num;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;用户输入的是数字&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">char</span> buf[<span class="number">1024</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">		cin&gt;&gt;buf;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;用户输入的是字符串&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9、案例二"><a href="#9、案例二" class="headerlink" title="9、案例二"></a>9、案例二</h2><p>用户输入 0 ~ 10 之间的数字，如果输入有误，重新输入</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;请输入 0 ~ 10 之间的数字&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">		cin &gt;&gt; num;</span><br><span class="line">		<span class="keyword">if</span> (num &gt;= <span class="number">0</span> &amp;&amp; num &lt;= <span class="number">10</span>)&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;输入正确，输入值为：&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//清空缓冲区 重置标志位 </span></span><br><span class="line">		cin.<span class="built_in">clear</span>();</span><br><span class="line">		cin.<span class="built_in">sync</span>();</span><br><span class="line">		<span class="comment">//cin.ignore();//vs2013以上版本加入 </span></span><br><span class="line">		<span class="comment">//如果标志位为 0  代表缓冲区正常    如果标志位为1   缓冲区异常</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot; cin.fail()  = &quot;</span> &lt;&lt; cin.<span class="built_in">fail</span>() &lt;&lt; endl;	</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入： &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="标准输出流"><a href="#标准输出流" class="headerlink" title="标准输出流"></a>标准输出流</h1><h2 id="1、字符输出"><a href="#1、字符输出" class="headerlink" title="1、字符输出"></a>1、字符输出</h2><ul>
<li><p><code>cout.flush()</code>            刷新缓冲区 Linux下有效</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;	</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">	<span class="comment">//刷新缓冲区</span></span><br><span class="line">	cout.<span class="built_in">flush</span>(); </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><code>cout.put() </code>                向缓冲区写字符</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout.<span class="built_in">put</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">	<span class="comment">//链式编程</span></span><br><span class="line">	cout.<span class="built_in">put</span>(<span class="string">&#x27;h&#x27;</span>).<span class="built_in">put</span>(<span class="string">&#x27;e&#x27;</span>).<span class="built_in">put</span>(<span class="string">&#x27;l&#x27;</span>).<span class="built_in">put</span>(<span class="string">&#x27;l&#x27;</span>).<span class="built_in">put</span>(<span class="string">&#x27;o&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>cout.write()</code>             从<code>buffer</code>中写<code>num</code>个字节到当前输出流中</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* str = <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line">	cout.<span class="built_in">write</span>(str, <span class="built_in">strlen</span>(str));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* str = <span class="string">&quot;*************&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">strlen</span>(str); i ++)&#123;</span><br><span class="line">		cout.<span class="built_in">write</span>(str, i);</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span>* str = <span class="string">&quot;*************&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="built_in">strlen</span>(str); i &gt; <span class="number">0</span>; i --)&#123;</span><br><span class="line">		cout.<span class="built_in">write</span>(str, i);</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2、格式化输出"><a href="#2、格式化输出" class="headerlink" title="2、格式化输出"></a>2、格式化输出</h2><p>在输出数据时，为简便起见，往往不指定输出的格式，由系统根据数据的类型采取默认的格式，但有时希望数据按指定的格式输出，如要求以十六进制或八进制形式输出一个整数，对输出的小数只保留两位小数等。有两种方法可以达到此目的。</p>
<p><code>#include &lt;iomanip&gt; </code>              控制符格式化输出  头文件</p>
<ol>
<li><p>使用控制符的方法</p>
<table>
<thead>
<tr>
<th>控制符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>dec</td>
<td>设置整数的基数为10</td>
</tr>
<tr>
<td>hex</td>
<td>设置整数的基数为16</td>
</tr>
<tr>
<td>oct</td>
<td>设置 整数的基数为8</td>
</tr>
<tr>
<td>setbase(n)</td>
<td>设置整数的基数为n(n只能是16，10，8之一)</td>
</tr>
<tr>
<td>setfill(c)</td>
<td>设置填充字符c，c可以是字符常量或字符变量</td>
</tr>
<tr>
<td>setprecision(n)</td>
<td>设置实数的精度为n位。在以一般十进制小数形式输出时，n代表有效数字。在以fixed(固定小数位 数)形式和scientific(指数)形式输出时，n为小数位数。</td>
</tr>
<tr>
<td>setw(n)</td>
<td>设置字段宽度为n位。</td>
</tr>
<tr>
<td>setiosflags(ios::fixed)</td>
<td>设置浮点数以固定的小数位数显示。</td>
</tr>
<tr>
<td>setiosflags(ios::scientific)</td>
<td>设置浮点数以科学计数法(即指数形式)显示。</td>
</tr>
<tr>
<td>setiosflags(ios::left)</td>
<td>输出数据左对齐。</td>
</tr>
<tr>
<td>setiosflags(ios::right)</td>
<td>输出数据右对齐。</td>
</tr>
<tr>
<td>setiosflags(ios::shipws)</td>
<td>忽略前导的空格。</td>
</tr>
<tr>
<td>setiosflags(ios::uppercase)</td>
<td>在以科学计数法输出E和十六进制输出字母X时，以大写表示。</td>
</tr>
<tr>
<td>setiosflags(ios::showpos)</td>
<td>输出正数时，给出“+”号。</td>
</tr>
<tr>
<td>resetiosflags</td>
<td>终止已设置的输出格式状态，在括号中应指定内容。</td>
</tr>
</tbody></table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> number = <span class="number">99</span>;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">20</span>)     <span class="comment">//设置宽度</span></span><br><span class="line">		&lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;*&#x27;</span>)  <span class="comment">//设置填充</span></span><br><span class="line">		&lt;&lt; <span class="built_in">setiosflags</span>(ios::showbase)  <span class="comment">//显示基数</span></span><br><span class="line">		&lt;&lt; <span class="built_in">setiosflags</span>(ios::left)  <span class="comment">//设置左对齐</span></span><br><span class="line">		&lt;&lt; hex   <span class="comment">//显示十六进制</span></span><br><span class="line">		&lt;&lt; number</span><br><span class="line">		&lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>使用流对象的有关成员函数。</p>
<p>通过调用流对象<code>cout</code>中用于控制输出格式的成员函数来控制输出格式。用于控制输出格式的常用的成员函数如下：</p>
<table>
<thead>
<tr>
<th>流成员函数</th>
<th>与之作用相同的控制符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>precision(n)</td>
<td>setprecision(n)</td>
<td>设置实 数的精度为n位。</td>
</tr>
<tr>
<td>width(n)</td>
<td>setw(n)</td>
<td>设置字段宽度为n位。</td>
</tr>
<tr>
<td>fill(c)</td>
<td>setfill(c)</td>
<td>设置填充字符c。</td>
</tr>
<tr>
<td>setf( )</td>
<td>setiosflags( )</td>
<td>设置输出格式状态，括号中应给出格式状态，内容与控制符setiosflags括号中内容相同。</td>
</tr>
<tr>
<td>ubsetf( )</td>
<td>resetiosflags( )</td>
<td>终止已设置的输出格式状态。</td>
</tr>
</tbody></table>
<p>流成员函数<code>setf</code>和控制符<code>setiosflags</code>括号中的参数表示格式状态，它是通过格式标志来指定的。格式标志在类<code>ios</code>中被定义为枚举值。因此在引用这些格式标志时要在前面加上类名<code>ios</code>和域运算符“::”。格式标志见表：</p>
<table>
<thead>
<tr>
<th>格式标志</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>ios::left</td>
<td>输出数据在本域宽范 围内左对齐</td>
</tr>
<tr>
<td>ios::right</td>
<td>输出数据在本域宽范围内右对齐</td>
</tr>
<tr>
<td>ios::internal</td>
<td>数值的符号位在域宽内左对齐，数值右对齐，中间由填充字符填充</td>
</tr>
<tr>
<td>ios::dec</td>
<td>设置整数的基数为10</td>
</tr>
<tr>
<td>ios::oct</td>
<td>设置整数的基数为8</td>
</tr>
<tr>
<td>ios::hex</td>
<td>设置整数的基数为16</td>
</tr>
<tr>
<td>ios::showbase</td>
<td>强制输出整数的基数(八进制以0打头，十六进制以0x打头)</td>
</tr>
<tr>
<td>ios::showpoint</td>
<td>强制输出浮点数的小点和尾数0</td>
</tr>
<tr>
<td>ios::uppercase</td>
<td>在以科学计数法输出E和十六进制输出字母X时，以大写表示</td>
</tr>
<tr>
<td>ios::showpos</td>
<td>输出正数时，给出“+”号。</td>
</tr>
<tr>
<td>ios::scientific</td>
<td>设置浮点数以科学计数法(即指数形式)显示</td>
</tr>
<tr>
<td>ios::fixed</td>
<td>设置浮点数以固定的小数位数显示</td>
</tr>
<tr>
<td>ios::unitbuf</td>
<td>每次输出后刷新所有流</td>
</tr>
<tr>
<td>ios::stdio</td>
<td>每次输出后清除 stdout，stderr</td>
</tr>
</tbody></table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> number = <span class="number">99</span>;</span><br><span class="line">	cout.<span class="built_in">width</span>(<span class="number">20</span>); <span class="comment">//指定宽度为20</span></span><br><span class="line">	cout.<span class="built_in">fill</span>(<span class="string">&#x27;*&#x27;</span>); <span class="comment">//填充</span></span><br><span class="line">	cout.<span class="built_in">setf</span>(ios::left);  <span class="comment">//左对齐</span></span><br><span class="line">	cout.<span class="built_in">unsetf</span>(ios::dec); <span class="comment">//卸载十进制</span></span><br><span class="line">	cout.<span class="built_in">setf</span>(ios::hex);  <span class="comment">//安装十六进制</span></span><br><span class="line">	cout.<span class="built_in">setf</span>(ios::showbase);  <span class="comment">//显示基数</span></span><br><span class="line">	cout.<span class="built_in">unsetf</span>(ios::hex);  <span class="comment">//卸载十六进制</span></span><br><span class="line">	cout.<span class="built_in">setf</span>(ios::oct);   <span class="comment">//安装八进制</span></span><br><span class="line">	cout &lt;&lt; number &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="3、注意事项"><a href="#3、注意事项" class="headerlink" title="3、注意事项"></a>3、注意事项</h2><ol>
<li><p>成员函数width(n)和控制符<code>setw(n)</code>只对其后的第一个输出项有效。如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cout. <span class="built_in">width</span>(<span class="number">6</span>);</span><br><span class="line">cout &lt;&lt;<span class="number">20</span> &lt;&lt;<span class="number">3.14</span>&lt;&lt;endl;</span><br><span class="line"><span class="comment">//输出结果为:****203.14</span></span><br></pre></td></tr></table></figure>

<p>在输出第一个输出项20时，域宽为6，因此在20前面有4个空格，在输出3.14时，width (6)已不起作用，此时按系统默认的域宽输出（按数据实际长度输出）。如果要求在输出数据时都按指定的同一域宽n输出，不能只调用一次width(n)， 而必须在输出每一项前都调用一次width(n)</p>
</li>
<li><p>格式标志表中的输出格式状态分为5组，每一组中同时只能选用一种（例如<code>dec</code>、<code>hex</code>和<code>oct</code>中只能选一，它们是互相排斥的）。在用成员函数<code>setf</code>和 控制符<code>setiosflags</code>设置输出格式状态后，如果想改设置为同组的另一状态，应当调用成员函数<code>unsetf</code>（对应于成员函数self）或 <code>resetiosflags</code>（对应于控制符<code>setiosflags</code>），先终止原来设置的状态。然后再设置其他状态，大家可以从本程序中看到这点。程序在开 始虽然没有用成员函数self和控制符<code>setiosflags</code>设置用<code>dec</code>输出格式状态，但系统默认指定为<code>dec</code>，因此要改变为<code>hex</code>或<code>oct</code>，也应当先 用<code>unsetf</code> 函数终止原来设置。如果删去程序中的第7行和第10行，虽然在第8行和第11行中用成员函数<code>setf</code>设置了<code>hex</code>和<code>oct</code>格式，由于未终止<code>dec</code>格式，因 此<code>hex</code>和<code>oct</code>的设置均不起作用，系统依然以十进制形式输出。</p>
<p>同理，程序的<code>unsetf </code>函数的调用也是不可缺少的。</p>
</li>
<li><p>用<code>setf </code>函数设置格式状态时，可以包含两个或多个格式标志，由于这些格式标志在<code>ios</code>类中被定义为枚举值，每一个格式标志以一个二进位代表，因此可以用位或运算符“|”组合多个格式标志。如倒数第5、第6行可以用下面一行代替：</p>
<p>  <code>cout.setf(ios::internal | ios::showpos); </code> //包含两个状态标志，用”|”组合</p>
</li>
</ol>


<div class="article-footer fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap" id="read-next"><section class="header cap theme"><span>接下来阅读</span></section><section class="body"><div class="post-title h2"><a href="/2021/04/21/C++/C++%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0/C++%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0/">undefined</a></div><div class="post-title fs14"><a href="/2021/04/21/C++/C++%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99/C++%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99/">上一篇：undefined</a></div></section></div>








      
<footer class="page-footer fs12"><hr><div><p>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
<p>本站由 <a href="https://smilesrx.github.io/">@CandyKing</a> 创建，使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.1.0">Stellar</a> 作为主题。</p>
</div></footer>

      <div class='float-panel mobile-only' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" viewBox="0 0 1228 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2849"><path d="M0 0m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.3902l-973.901995 0q-97.390199 0-97.390199-97.3902l0 0q0-97.390199 97.390199-97.390199Z" p-id="2850"></path><path d="M0 389.560798m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.3902l-973.901995 0q-97.390199 0-97.390199-97.3902l0 0q0-97.390199 97.390199-97.390199Z" p-id="2851"></path><path d="M0 779.121596m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.390199l-973.901995 0q-97.390199 0-97.390199-97.390199l0 0q0-97.390199 97.390199-97.390199Z" p-id="2852"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script')
      script.src = src
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.1.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper/swiper-bundle.min.css","js":"https://unpkg.com/swiper/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>

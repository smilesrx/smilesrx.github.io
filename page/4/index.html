<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"smilesrx.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="虾米">
<meta property="og:type" content="website">
<meta property="og:title" content="逆玺之路">
<meta property="og:url" content="https://smilesrx.github.io/page/4/index.html">
<meta property="og:site_name" content="逆玺之路">
<meta property="og:description" content="虾米">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="CandyKing">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://smilesrx.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>逆玺之路</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">逆玺之路</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/11/25/Linux/Linux-makefile/makefile%E6%96%87%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/25/Linux/Linux-makefile/makefile%E6%96%87%E4%BB%B6/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-25 13:10:10" itemprop="dateCreated datePublished" datetime="2020-11-25T13:10:10+08:00">2020-11-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-26 17:33:56" itemprop="dateModified" datetime="2020-11-26T17:33:56+08:00">2020-11-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="makefile文件"><a href="#makefile文件" class="headerlink" title="makefile文件"></a>makefile文件</h1><p>makefile文件中定义了一系列的规则来指定, 哪些文件需要先编译, 哪些文件需要后编译, 哪些文件需要重新编译, 甚至于进行更复杂的功能操作, 因为makefile就像一个Shell脚本一样, 其中也可以执行操作系统的命令. makefile带来的好处就是——“自动化编译”, 一旦写好, 只需要一个make命令, 整个工程完全自动编译, 极大的提高了软件开发的效率.</p>
<p>make是一个命令工具, 是一个解释makefile中指令的命令工具, 一般来说, 大多数的IDE都有这个命令, 比如：Visual C++的nmake, Linux下GNU的make. 可见, makefile都成为了一种在工程方面的编译方法.</p>
<p>makefile文件中会使用gcc编译器对源代码进行编译, 最终生成可执行文件或者是库文件.</p>
<p>makefile文件的命名：makefile或者Makefile</p>
<h1 id="makefile的基本规则"><a href="#makefile的基本规则" class="headerlink" title="makefile的基本规则"></a>makefile的基本规则</h1><h2 id="1、规则如下："><a href="#1、规则如下：" class="headerlink" title="1、规则如下："></a>1、规则如下：</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">目标：依赖</span><br><span class="line">（tab）命令</span><br></pre></td></tr></table></figure>

<h2 id="2、makefile基本规则三要素："><a href="#2、makefile基本规则三要素：" class="headerlink" title="2、makefile基本规则三要素："></a>2、makefile基本规则三要素：</h2><ul>
<li>目标：要生成的目标文件</li>
<li>依赖：目标文件由哪些文件生成</li>
<li>命令：通过执行该命令由依赖生成目标</li>
</ul>
<h1 id="makefile工作原理"><a href="#makefile工作原理" class="headerlink" title="makefile工作原理"></a>makefile工作原理</h1><h2 id="1、基本原理"><a href="#1、基本原理" class="headerlink" title="1、基本原理"></a>1、基本原理</h2><p>若想生成目标，检查规则中的所有依赖文件是否存在：</p>
<ul>
<li><p>如果所有的依赖文件不存在，则向下搜索规则，看是否有生成该依赖的规则：</p>
<p>如果有规则用来生成该依赖文件，则执行规则中的命令生成依赖文件；</p>
<p>如果没有规则用来生成该依赖文件，则报错。</p>
<img src="/依赖文件不存在.png" alt="依赖文件不存在" style="zoom:67%;" /></li>
<li><p>如果所有的依赖都存在，检查规则中的目标是否需要更新，必须先检查它的所有依赖，依赖中任何一个被更新，则目标必须更新（检查的规则是哪个时间大哪个最新）</p>
<p>若目标的时间 &gt; 依赖的时间，不更新</p>
<p>若目标的时间 &lt; 依赖的时间，则更新</p>
<img src="/依赖文件都存在.png" alt="依赖文件都存在" style="zoom:67%;" /></li>
</ul>
<h2 id="2、总结"><a href="#2、总结" class="headerlink" title="2、总结"></a>2、总结</h2><ul>
<li>分析各个目标和依赖之间的关系</li>
<li>根据依赖关系自底向上指向命令</li>
<li>根据依赖文件的时间和目标文件的时间确定是否需要更新</li>
<li>如果目标不依赖任何文件，则执行对应的命令，以示更新（如：伪目标）</li>
</ul>
<h1 id="makefile中的变量"><a href="#makefile中的变量" class="headerlink" title="makefile中的变量"></a>makefile中的变量</h1><p>在makefile中使用变量有点类似于C语言中宏定义，使用该变量相当于内容替换，使用变量可以使makefile文件易于维护，修改起来变得简单。</p>
<p>makefile中有三中变量：</p>
<ul>
<li>普通变量</li>
<li>自带变量</li>
<li>自动变量</li>
</ul>
<h2 id="1、普通变量"><a href="#1、普通变量" class="headerlink" title="1、普通变量"></a>1、普通变量</h2><ul>
<li><p>变量定义直接用 =</p>
</li>
<li><p>使用变量值用 $(变量名)</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo=abc      //定义变量并赋值</span><br><span class="line">bar=<span class="variable">$(foo)</span>   //使用变量，%=$(变量名)</span><br></pre></td></tr></table></figure>

<p>定义了两个变量：foo、bar，其中bar的值是foo变量的值的引用。</p>
</li>
</ul>
<h2 id="2、自带变量"><a href="#2、自带变量" class="headerlink" title="2、自带变量"></a>2、自带变量</h2><p>除了使用用户自定义的变量，makefile中也提供了一些变量（变量名大写）供用户直接使用，我们可以直接对其进行赋值：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CC=gcc <span class="comment">#arm-linux-gcc</span></span><br><span class="line"><span class="section">CPPFLAGS:C预处理的选项 -I</span></span><br><span class="line"><span class="section">CFLAGS:C编译器的选项 -Wall -g -c</span></span><br><span class="line"><span class="section">LDFLAGS:链接器选项 -L -l</span></span><br></pre></td></tr></table></figure>

<h2 id="3、自动变量"><a href="#3、自动变量" class="headerlink" title="3、自动变量"></a>3、自动变量</h2><ul>
<li>$@:表示规则中的目标</li>
<li>$&lt;:表示规则中的第一个条件</li>
<li>$^:表示规则中的所有条件，组成一个列表，以空格隔开，如果这个列表中有重复的项则消除重复项。</li>
<li><strong>特别注意：</strong>自动变量只能在规则的命令中使用</li>
</ul>
<h1 id="makefile的模式规则"><a href="#makefile的模式规则" class="headerlink" title="makefile的模式规则"></a>makefile的模式规则</h1><p>至少在规则的目标定义中要包含’%’, ‘%’表示一个或多个, 在依赖条件中同样可以使用’%’, 依赖条件中的’%’的取值取决于其目标:</p>
<p>比如: <code>main.o:main.c fun1.o: fun1.c fun2.o:fun2.c</code>, 说的简单点就是: xxx.o:xxx.c</p>
<h1 id="makefile中的函数"><a href="#makefile中的函数" class="headerlink" title="makefile中的函数"></a>makefile中的函数</h1><h2 id="1、wildcard-查找指定目录下的指定类型的文件"><a href="#1、wildcard-查找指定目录下的指定类型的文件" class="headerlink" title="1、wildcard-查找指定目录下的指定类型的文件"></a>1、wildcard-查找指定目录下的指定类型的文件</h2><p><code>src=$(wildcard *.c)</code> //找到当前目录下所有后缀为.c的文件,赋值给src</p>
<p>等价于：<code>src=main.c fun1.c fun2.c sum.c</code></p>
<h2 id="2、patsubst–匹配替换"><a href="#2、patsubst–匹配替换" class="headerlink" title="2、patsubst–匹配替换"></a>2、patsubst–匹配替换</h2><p><code>obj=$(patsubst %.c,%.o, $(src))</code> //把src变量里所有后缀为.c的文件替换成.o</p>
<p>等价于：<code>obj=mian.o fun1.o fun2.o sum.o</code></p>
<p><strong>注意：在makefile中所有的函数都有返回值</strong></p>
<h1 id="makefile的清理操作"><a href="#makefile的清理操作" class="headerlink" title="makefile的清理操作"></a>makefile的清理操作</h1><p>用途：清除编译生成的中间 .o文件和最终的目标文件</p>
<p>make clean 如果当前目录下有同名clean文件，则不执行clean对于的命令，解决方案：</p>
<p>伪目标什么：<code>.PHONY:clean</code></p>
<p>申明目标为伪目标之后，makefile将不会检查该目标是否存在或者该目标是否需要更新</p>
<p>clean命令中的特殊符号：</p>
<ul>
<li><p>“ - ” 此条命令出错，make也会继续执行后续的命令。如：`rm -main.o``</p>
<p><code>rm -f</code> 强制执行，比如若要删除的文件不存在使用-f不会报错</p>
</li>
<li><p>“ @ ”不显示命令的本身，只显示结果。如：<code>@echo clean done</code></p>
</li>
</ul>
<p>make 默认执行第一个出现的目标，可通过make dest指定要执行的目标</p>
<p>make -f ：-f执行一个makefile文件名称，使用make执行指定的makefile:<code>make -f mainmak</code></p>
<h1 id="makefile-文件的版本优化"><a href="#makefile-文件的版本优化" class="headerlink" title="makefile 文件的版本优化"></a>makefile 文件的版本优化</h1><h2 id="1、makefile版本一"><a href="#1、makefile版本一" class="headerlink" title="1、makefile版本一"></a>1、makefile版本一</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">main:mian.c fun1.c fun2.c sum.c</span></span><br><span class="line">	gcc main.c fun1.c fun2.c sum.c -o main -I./</span><br></pre></td></tr></table></figure>

<p>缺点：效率低，修改一个文件，所有的文件会全部重新编译。</p>
<h2 id="2、makefile版本二"><a href="#2、makefile版本二" class="headerlink" title="2、makefile版本二"></a>2、makefile版本二</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">main:main.o fun1.o fun2.o sum.o</span></span><br><span class="line">	gcc mian.o fun1.o fun2.o fun2.o sum.o -o main</span><br><span class="line"><span class="section">main.o:main.c</span></span><br><span class="line">	gcc -c main.c -o main.o</span><br><span class="line"><span class="section">fun1.o:fun1.c</span></span><br><span class="line">	gcc -c fun1.c -o fun1.o</span><br><span class="line"><span class="section">fun2.o:fun2.c</span></span><br><span class="line">	gcc -c fun2.c -o fun2.o</span><br><span class="line"><span class="section">sum.o:sum.c</span></span><br><span class="line">	gcc -c sum.c -o sum.o</span><br></pre></td></tr></table></figure>

<p>缺点：冗余，若 .c 文件数量很多，编写起来比较麻烦</p>
<h2 id="3、makefile版本三"><a href="#3、makefile版本三" class="headerlink" title="3、makefile版本三"></a>3、makefile版本三</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">target=mian</span><br><span class="line">object=mian.o fun1.o fun2.o sum.o      <span class="comment">## 普通变量</span></span><br><span class="line">CC=gcc     <span class="comment">##自带变量</span></span><br><span class="line">CPPFLAGS=-I./</span><br><span class="line"></span><br><span class="line"><span class="variable">$(target)</span>:<span class="variable">$(object)</span></span><br><span class="line">	<span class="variable">$(CC)</span> <span class="variable">$^</span> -o <span class="variable">$@</span></span><br><span class="line"><span class="section">%.o:%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure>

<h2 id="4、makefile版本四"><a href="#4、makefile版本四" class="headerlink" title="4、makefile版本四"></a>4、makefile版本四</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">src=<span class="variable">$(<span class="built_in">wildcard</span> ./*.c)</span></span><br><span class="line">object=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(src)</span>)</span></span><br><span class="line">target=mian</span><br><span class="line">CC=gcc</span><br><span class="line">CPPFLAGS=-I./</span><br><span class="line"></span><br><span class="line"><span class="variable">$(target)</span>:<span class="variable">$(object)</span></span><br><span class="line">	<span class="variable">$(CC)</span> <span class="variable">$^</span> -o <span class="variable">$@</span></span><br><span class="line"><span class="section">%.o:%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure>

<p>缺点：每次重新编译都需要手工清理中间的 .o 文件和最终的目标文件</p>
<h2 id="5、makefile版本五"><a href="#5、makefile版本五" class="headerlink" title="5、makefile版本五"></a>5、makefile版本五</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">src=<span class="variable">$(<span class="built_in">wildcard</span> ./*.c)</span></span><br><span class="line">object=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(src)</span>)</span></span><br><span class="line">target=main</span><br><span class="line">CC=gcc</span><br><span class="line">CPPFLAGS=-I./</span><br><span class="line"></span><br><span class="line"><span class="variable">$(target)</span>:<span class="variable">$(object)</span></span><br><span class="line">	<span class="variable">$(CC)</span> <span class="variable">$^</span> -o <span class="variable">$@</span></span><br><span class="line"><span class="section">%.o:%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$@</span> </span><br><span class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>:clean</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -f <span class="variable">$(target)</span> <span class="variable">$(object)</span></span><br></pre></td></tr></table></figure>

<p>在makefile的第五个版本中综合使用了变量、函数、模式规则和清理命令，是一个比较完整的版本</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/11/16/Linux/Linux-%E5%BA%93%E7%9A%84%E5%88%B6%E4%BD%9C%E5%92%8C%E4%BD%BF%E7%94%A8/linux-%E5%BA%93%E7%9A%84%E5%88%B6%E4%BD%9C%E5%92%8C%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/Linux/Linux-%E5%BA%93%E7%9A%84%E5%88%B6%E4%BD%9C%E5%92%8C%E4%BD%BF%E7%94%A8/linux-%E5%BA%93%E7%9A%84%E5%88%B6%E4%BD%9C%E5%92%8C%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-16 23:06:49" itemprop="dateCreated datePublished" datetime="2020-11-16T23:06:49+08:00">2020-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-25 13:09:22" itemprop="dateModified" datetime="2020-11-25T13:09:22+08:00">2020-11-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="库的介绍"><a href="#库的介绍" class="headerlink" title="库的介绍"></a>库的介绍</h1><h2 id="1、什么是库"><a href="#1、什么是库" class="headerlink" title="1、什么是库"></a>1、什么是库</h2><p>库是二进制文件，是源代码文件的另一种表现形式，是加了密的源代码；是一些功能相近或是相似的函数体的集合。</p>
<h2 id="2、使用库的好处"><a href="#2、使用库的好处" class="headerlink" title="2、使用库的好处"></a>2、使用库的好处</h2><ul>
<li>提高代码的可重用性，而且还可以提高程序的健壮性；</li>
<li>可减少开发者的代码质量，缩短开发周期。</li>
</ul>
<h2 id="3、库制作完成后，如何给用户使用"><a href="#3、库制作完成后，如何给用户使用" class="headerlink" title="3、库制作完成后，如何给用户使用"></a>3、库制作完成后，如何给用户使用</h2><ul>
<li>头文件—包含了库函数的申明</li>
<li>库文件—包含了库函数的代码实现</li>
<li>注意：库不能单独使用，只能作为其他执行程序的一部分完成某些功能，也就是说只能被其他程序调用才能使用</li>
</ul>
<h1 id="静态库（staitc-library）"><a href="#静态库（staitc-library）" class="headerlink" title="静态库（staitc library）"></a>静态库（staitc library）</h1><p>静态库可以认为是一些目标代码的集合，是在可执行程序运行前已经加入到执行代码中，成为执行程序的一部分。按照习惯，一般以 .a 做文件后缀名</p>
<p>静态库的命名一般分为三个部分：</p>
<ul>
<li>前缀：lib</li>
<li>库名：自定义即可，如test</li>
<li>后缀：.a</li>
</ul>
<p>所以最终的静态库的名字应该为：libtest.a</p>
<h2 id="1、静态库的制作"><a href="#1、静态库的制作" class="headerlink" title="1、静态库的制作"></a>1、静态库的制作</h2><p>下面以fun1.c , fun2.c和head.h三个文件为例讲述静态库的制作和使用, 其中head.h文件中有函数的声明,  fun1.c和fun2.c中有函数的实现.</p>
<ul>
<li><p>步骤1：将c源文件生成对应的.o文件</p>
<p><code>gcc -c fun1.c fun2.c</code></p>
<p>或者分别生成.o文件：</p>
<p><code>gcc -c fun1.c -o fun1.o</code></p>
<p><code>gcc -c fun2.c -o fun2.o</code></p>
</li>
<li><p>步骤2：使用打包工具ar将准备好的.o文件打包为.a文件</p>
<p>在使用ar工具时需要添加参数rcs（r–更新、c–创建、s：建立索引）</p>
<p>命令：ar rcs 静态库名 .o文件</p>
<p><code>ar rcs libtest.a fun1.o fun1.o</code></p>
</li>
</ul>
<h2 id="2、静态库的使用"><a href="#2、静态库的使用" class="headerlink" title="2、静态库的使用"></a>2、静态库的使用</h2><p>静态库制作完成之后，需要将.a文件和头文件一起发布给用户</p>
<p>假设测试文件为mian.c，静态库文件为libtest.a，头文件为head.h</p>
<p>用到的参数：</p>
<ul>
<li><p>-L：指定要连接的库所在目录</p>
</li>
<li><p>-l（小写L）：指定链接时需要的静态库，去掉前缀和后缀</p>
</li>
<li><p>-I（大写i）：指定mian.c文件用到的头文件head.h所在的路劲</p>
<p><code>gcc -o mian1 main.c -L./ -ltest -I./</code></p>
</li>
</ul>
<h1 id="静态库的优缺点"><a href="#静态库的优缺点" class="headerlink" title="静态库的优缺点"></a>静态库的优缺点</h1><h2 id="1、优点"><a href="#1、优点" class="headerlink" title="1、优点"></a>1、优点</h2><ul>
<li><p>库函数最终被打包到应用程序中，实现是函数本地化，寻址方便、速速度快。</p>
<p>（库函数调用效率==自定义函数使用效率）</p>
</li>
<li><p>程序在运行时域函数库在无瓜葛，移植方便。</p>
</li>
</ul>
<h2 id="2、缺点"><a href="#2、缺点" class="headerlink" title="2、缺点"></a>2、缺点</h2><ul>
<li>消耗系统资源较大，每个进程使用静态库时都要复制一份，无端浪费内存。</li>
<li>静态库会给程序的更新、部署和发布带来麻烦。如果静态库libxxx.a更新了，所有使用它的应用程序都需要重新编译、发布给用户（对于玩家来说很小的改动，却导致整个程序重新下载）。</li>
</ul>
<h1 id="共享库（shared-library）动态库"><a href="#共享库（shared-library）动态库" class="headerlink" title="共享库（shared library）动态库"></a>共享库（shared library）动态库</h1><p>共享库是在程序编译时并不会被连接到目标代码中，而是在程序运行时才被载入。不同的应用程序如果调用相同的库，那么在内存里只需要有一份共享库的拷贝，规避了空间的浪费问题。</p>
<p>动态库在程序运行时才被载入，也解决了静态看对程序的更新、部署和发布带来的的麻烦，用户只需更新动态库即可，增加更新。按照习惯一般以 .so 做文件的后缀名，共享库的命名一般分为三个部分：</p>
<ul>
<li>前缀：lib</li>
<li>库名称：自定义即可，如test</li>
<li>后缀：.so</li>
</ul>
<p>所以最终的动态库的名字应该为：libtest.so</p>
<h2 id="1、动态库的制作"><a href="#1、动态库的制作" class="headerlink" title="1、动态库的制作"></a>1、动态库的制作</h2><ol>
<li><p>生成目标文件.o，此时要加编译选项：-fPIC（fpic）</p>
<p><code>gcc -fpic -c fun1.c fun2.c</code></p>
<p>参数：-fpic创建于与地址无关的编译程序，目的就是为了能够在多个应用程序间共享</p>
</li>
<li><p>生成共享库，此时要加链接器选项：-shared（指定生成动态链接库）</p>
<p><code>gcc -shared fun1.o fun2.o -o libtest.so</code></p>
</li>
</ol>
<h2 id="2、动态库的使用"><a href="#2、动态库的使用" class="headerlink" title="2、动态库的使用"></a>2、动态库的使用</h2><ul>
<li><p>-L：指定要连接的库所在目录</p>
</li>
<li><p>-l：指定链接时需要的动态库，去掉前缀和后缀</p>
</li>
<li><p>-I：指定main.c文件用到的头文件head.h所在的路径</p>
<p>然后运行：./main，发现报错</p>
</li>
</ul>
<p>分析为什么会在执行的时候找不到libtest.so库</p>
<ul>
<li><p>当系统加载可执行代码时候, 能够知道其所依赖的库的名字, 但是还需要知道所依赖的库的绝对路径。此时就需要系统动态载入器(dynamic linker/loader)。</p>
<p>ldd命令可以查看可执行文件依赖的库文件, 执行lddmain,可以发现libtest.so找不到.</p>
</li>
<li><p>对于elf格式的可执行程序，是由ld-linux.so*来完成的, 它先后搜索elf文件的 DT_RPATH段 — 环境变量LD_LIBRARY_PATH — /etc/ld.so.cache文件列表 — /lib/, /usr/lib目录找到库文件后将其载入内存。</p>
<p>使用file命令可以查看文件的类型: file main</p>
</li>
</ul>
<p>如何让系统找到共享库</p>
<ul>
<li><p>拷贝自己制作的共享库到 /lib 或者 /usr/lib</p>
</li>
<li><p>临时设置 LD_LIBRARY_PATH：</p>
<p><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:库路径</code></p>
</li>
<li><p>永久设置，把<code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:库路径</code>，设置到 ~。、bashrc 文件中，然后执行下列三种办法之一：</p>
<p>执行 . ~/bashrc 使配置文件生效（第一个. 后面有一个空格）</p>
<p>执行source~/.bashrc配置文件生效</p>
<p>退出当前终端，然后再次登录也可以使配置文件生效</p>
</li>
<li><p>永久设置，把<code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:库路径</code>，设置到/etc/profile文件中</p>
</li>
<li><p>将其添加到 /etc/ld.so.conf文件</p>
<p>编辑/etc/ld.so.conf 文件，加入库文件所在目录的路径</p>
<p>运行sudo ldconfig -v，该命令会重建/etc/ld.so.cache文件</p>
</li>
</ul>
<h2 id="3、共享库的特点"><a href="#3、共享库的特点" class="headerlink" title="3、共享库的特点"></a>3、共享库的特点</h2><ul>
<li>动态库把对一些库函数的 链接载入推迟到程序运行的时期</li>
<li>可以实现进程之间的资源共享。（因为动态库也称为共享库）</li>
<li>将一些程序升级变得简单</li>
<li>甚至可以真正做到链接载入完全由程序员在程序代码中控制（显示调用）</li>
</ul>
<h1 id="比较静态库和动态库的优缺点"><a href="#比较静态库和动态库的优缺点" class="headerlink" title="比较静态库和动态库的优缺点"></a>比较静态库和动态库的优缺点</h1><h2 id="1、静态库的优点"><a href="#1、静态库的优点" class="headerlink" title="1、静态库的优点"></a>1、静态库的优点</h2><ul>
<li>执行速度快，是因为静态库已经编译到可执行文件的内部了</li>
<li>移植方便，不依赖其他的库文件</li>
</ul>
<h2 id="2、静态库的缺点"><a href="#2、静态库的缺点" class="headerlink" title="2、静态库的缺点"></a>2、静态库的缺点</h2><ul>
<li>耗费内存，是由于每一个静态库的可执行程序都会加载一次</li>
<li>部署更新麻烦，因为静态库修改后所有的调用到这个静态库的可执行文件都需要重新编译</li>
</ul>
<h2 id="3、动态库的优点"><a href="#3、动态库的优点" class="headerlink" title="3、动态库的优点"></a>3、动态库的优点</h2><ul>
<li>节省内存</li>
<li>部署升级方便，只需要替换动态库即可，然后再重启服务</li>
</ul>
<h2 id="4、动态库的缺点"><a href="#4、动态库的缺点" class="headerlink" title="4、动态库的缺点"></a>4、动态库的缺点</h2><ul>
<li>加载速度比静态库慢</li>
<li>移植性差，需要把所有用到的动态库都移植</li>
</ul>
<p>注意：由于静态库生成的可执行文件是把静态库加载到了其内部，所以静态库生成的可执行文件一般会比动态库大</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/11/16/Linux/Linux-gcc/Linux-gcc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/Linux/Linux-gcc/Linux-gcc/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-16 22:46:15" itemprop="dateCreated datePublished" datetime="2020-11-16T22:46:15+08:00">2020-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-17 23:05:30" itemprop="dateModified" datetime="2020-12-17T23:05:30+08:00">2020-12-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="gcc的工作流程"><a href="#gcc的工作流程" class="headerlink" title="gcc的工作流程"></a>gcc的工作流程</h1><p>gcc编译器将c源文件到生成一个可执行程序，中间一共经历了四个步骤：</p>
<img src="/gcc.png" alt="gcc" style="zoom:100%;" />

<p><img src="/%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7.png" alt="编译工具"></p>
<p>下面以test.c为例介绍gcc的四个步骤:</p>
<ul>
<li><code>gcc -E test.c -o test.i</code></li>
<li><code>gcc -S test.i -o test.s</code></li>
<li><code>gcc -c test.s -o test.o</code></li>
<li><code>gcc test.o -o test</code></li>
</ul>
<p>一步生成最终的可执行程序: </p>
<p><code>gcc test.c -o test</code></p>
<h1 id="gcc常用参数"><a href="#gcc常用参数" class="headerlink" title="gcc常用参数"></a>gcc常用参数</h1><ul>
<li><p>-v  查看gcc版本号, –version也可以</p>
</li>
<li><p>-E  生成预处理文件</p>
</li>
<li><p>-S  生成汇编文件</p>
</li>
<li><p>-c 只编译,生成.o文件, 通常称为目标文件</p>
</li>
<li><p>-I （大写i）指定头文件所在的路径</p>
</li>
<li><p>-L 指定库文件所在的路径</p>
</li>
<li><p>-l（小写L） 指定库的名字</p>
</li>
<li><p>-o 指定生成文件的名字</p>
</li>
<li><p>-g 包含调试信息，使用gdb调试需要添加-g参数</p>
</li>
<li><p>-Wall 提示更多警告信息</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/11/16/Linux/Linux-Vim/Linux-Vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/Linux/Linux-Vim/Linux-Vim/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-16 20:13:43 / 修改时间：22:53:32" itemprop="dateCreated datePublished" datetime="2020-11-16T20:13:43+08:00">2020-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="vim简介"><a href="#vim简介" class="headerlink" title="vim简介"></a>vim简介</h1><p>vi是”visual interface”的简称, 它在Linux上的地位就仿佛Windows中的<strong>记事本</strong>一样. 它可以执行<strong>编辑、删除、查找、替换、块操作</strong>等众多文本操作, 而且用户可以根据自己的需要对其进行定制. vi是一个文本编辑程序, 没有菜单, 只有命令. </p>
<p>vim更高级一些, 可以理解是vi的高级版本.</p>
<p>vim需要自行安装, 在shell中输入<code>vimtutor</code>命令可以查看相关的帮助文档.</p>
<h1 id="vim-的三种模式"><a href="#vim-的三种模式" class="headerlink" title="vim 的三种模式"></a>vim 的三种模式</h1><p>Vi有三种基本工作模式: 命令模式、文本输入模式、末行模式。</p>
<p>三种工作模式的切换：</p>
<img src="/模式切换.png" alt="模式切换" style="zoom:70%;" />

<h1 id="vim-基本操作"><a href="#vim-基本操作" class="headerlink" title="vim 基本操作"></a>vim 基本操作</h1><h2 id="1、命令行模式下的操作"><a href="#1、命令行模式下的操作" class="headerlink" title="1、命令行模式下的操作"></a>1、命令行模式下的操作</h2><p>用户按下esc键, 就可以使vi进入命令模式下; 当使用vi打开一个新文件开始也是进入命令模式下.</p>
<h3 id="1、保存退出"><a href="#1、保存退出" class="headerlink" title="1、保存退出"></a>1、保存退出</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>ZZ</td>
<td>保存退出</td>
</tr>
</tbody></table>
<h3 id="2、代码格式化"><a href="#2、代码格式化" class="headerlink" title="2、代码格式化"></a>2、代码格式化</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>gg=G</td>
<td>代码个格式化</td>
</tr>
</tbody></table>
<h3 id="3、光标移动"><a href="#3、光标移动" class="headerlink" title="3、光标移动"></a>3、光标移动</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>h</td>
<td>光标左移</td>
</tr>
<tr>
<td>j</td>
<td>光标下移</td>
</tr>
<tr>
<td>k</td>
<td>光标上移</td>
</tr>
<tr>
<td>l</td>
<td>光标右移</td>
</tr>
<tr>
<td>w</td>
<td>移动一个单词</td>
</tr>
<tr>
<td>gg</td>
<td>光标移动到文件的开头</td>
</tr>
<tr>
<td>G</td>
<td>光标移动到文件的结尾</td>
</tr>
<tr>
<td>0</td>
<td>光标移动到首行</td>
</tr>
<tr>
<td>$</td>
<td>光标移动到末行</td>
</tr>
<tr>
<td>nG</td>
<td>行跳转    12G，跳转至12行</td>
</tr>
</tbody></table>
<h3 id="4、删除命令"><a href="#4、删除命令" class="headerlink" title="4、删除命令"></a>4、删除命令</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>删除光标后一个字符,相当于 Del</td>
</tr>
<tr>
<td>X</td>
<td>删除光标前一个字符,相当于 Backspace</td>
</tr>
<tr>
<td>dw</td>
<td>删除光标开始位置的字,包含光标所在字符</td>
</tr>
<tr>
<td>d0</td>
<td>删除光标前本行所有内容,不包含光标所在字符</td>
</tr>
<tr>
<td>D[d$]</td>
<td>删除光标后本行所有内容,包含光标所在字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除光标所在行(本质其实是剪切)</td>
</tr>
<tr>
<td>ndd</td>
<td>从光标当前行向下删除指定的行数, 如15dd</td>
</tr>
<tr>
<td>v/ctrl+v</td>
<td>使用h、j、k、l移动选择内容, 然后按d删除其中ctrl+v是列模式, v为非列模式</td>
</tr>
</tbody></table>
<h3 id="5、撤销和反撤销"><a href="#5、撤销和反撤销" class="headerlink" title="5、撤销和反撤销"></a>5、撤销和反撤销</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>u</td>
<td>一步一步撤销, 相当于word文档的ctrl+z</td>
</tr>
<tr>
<td>ctrl-r</td>
<td>反撤销, 相当于word文档的ctrl+y</td>
</tr>
</tbody></table>
<h3 id="6、复制粘贴"><a href="#6、复制粘贴" class="headerlink" title="6、复制粘贴"></a>6、复制粘贴</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>复制当前行</td>
</tr>
<tr>
<td>nyy</td>
<td>复制n行, 如10yy</td>
</tr>
<tr>
<td>p</td>
<td>在光标所在位置向下新开辟一行, 粘贴</td>
</tr>
<tr>
<td>P</td>
<td>在光标所在位置向下新开辟一行, 粘贴</td>
</tr>
<tr>
<td>剪切操作</td>
<td>按dd或者ndd删除, 将删除的行保存到剪贴板中, 然后按p/P就可以粘贴了</td>
</tr>
</tbody></table>
<h3 id="7、可视化模式"><a href="#7、可视化模式" class="headerlink" title="7、可视化模式"></a>7、可视化模式</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>v/ctrl+v</td>
<td>使用h、j、k、l移动选择内容;使用d删除使用y复制 使用p粘贴到光标的后面使用P粘贴到光标的前面</td>
</tr>
</tbody></table>
<h3 id="8、替换操作"><a href="#8、替换操作" class="headerlink" title="8、替换操作"></a>8、替换操作</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>替换当前字符</td>
</tr>
<tr>
<td>R</td>
<td>替换当前行光标后的字符</td>
</tr>
</tbody></table>
<h3 id="9、查找命令"><a href="#9、查找命令" class="headerlink" title="9、查找命令"></a>9、查找命令</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>/xxxx, 从光标所在的位置开始搜索, 按n向下搜索, 按N向上搜索</td>
</tr>
<tr>
<td>?</td>
<td>?xxxx, 从光标所在的位置开始搜索, 按n向上搜索, 按N向下搜索</td>
</tr>
<tr>
<td>#</td>
<td>将光标移动到待搜索的字符串上, 然后按n向上搜索,但N向下搜索</td>
</tr>
<tr>
<td>shift+k</td>
<td>在待搜索的字符串上按shift+k或者K, 可以查看相关的帮助文档</td>
</tr>
</tbody></table>
<h3 id="10、快速翻屏"><a href="#10、快速翻屏" class="headerlink" title="10、快速翻屏"></a>10、快速翻屏</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>ctrl + u</td>
<td>向下翻半屏(up)–光标向上移动</td>
</tr>
<tr>
<td>ctrl + d</td>
<td>向上翻半屏(down)–光标向下移动</td>
</tr>
<tr>
<td>ctrl + f</td>
<td>向上翻一屏(front)</td>
</tr>
<tr>
<td>ctrl + b</td>
<td>向后翻一屏(back)</td>
</tr>
</tbody></table>
<h2 id="2、切换到文本输入模式"><a href="#2、切换到文本输入模式" class="headerlink" title="2、切换到文本输入模式"></a>2、切换到文本输入模式</h2><table>
<thead>
<tr>
<th>快捷键</th>
<th>*操作</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>在光标前插入</td>
</tr>
<tr>
<td>a</td>
<td>在光标后插入</td>
</tr>
<tr>
<td>I</td>
<td>在光标所在行的行首插入</td>
</tr>
<tr>
<td>A</td>
<td>在光标所在行的行尾插入</td>
</tr>
<tr>
<td>o</td>
<td>在光标所在的行的下面新创建一行, 行首插入</td>
</tr>
<tr>
<td>O</td>
<td>在光标所在的行的上面新创建一行, 行首插</td>
</tr>
<tr>
<td>s</td>
<td>删除光标后边的字符, 从光标当前位置</td>
</tr>
<tr>
<td>S</td>
<td>删除光标所在当前行, 从行首插入</td>
</tr>
<tr>
<td>按列模式插入</td>
<td>先按ctrl+v进入列模式, 按hjkl移动选定某列,按I或者shift+i向前插入, 然后插入字符, 最后按两次esc.</td>
</tr>
</tbody></table>
<h2 id="3、末行模式下的操作"><a href="#3、末行模式下的操作" class="headerlink" title="3、末行模式下的操作"></a>3、末行模式下的操作</h2><h3 id="1、保存退出-1"><a href="#1、保存退出-1" class="headerlink" title="1、保存退出"></a>1、保存退出</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>q</td>
<td>退出</td>
</tr>
<tr>
<td>q!</td>
<td>强制退出，不保存修改内容</td>
</tr>
<tr>
<td>w</td>
<td>保存修改内容, 不退出</td>
</tr>
<tr>
<td>wq</td>
<td>保存并退出</td>
</tr>
<tr>
<td>x</td>
<td>相当于wq</td>
</tr>
</tbody></table>
<h3 id="2、替换操作"><a href="#2、替换操作" class="headerlink" title="2、替换操作"></a>2、替换操作</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>:s/old/new/</td>
<td>光标所在行的第一个old替换为new</td>
</tr>
<tr>
<td>:s/old/new/<em><strong>*g*</strong></em></td>
<td>光标所在行的所有old替换为new</td>
</tr>
<tr>
<td>:m, ns/old/new/g</td>
<td>将第m行至第n行之间的old全部替换成new</td>
</tr>
<tr>
<td>:%s/old/new/g</td>
<td>当前文件的所有old替换为new</td>
</tr>
<tr>
<td>:1,$s/old/new/g</td>
<td>当前文件的所有old替换为new</td>
</tr>
<tr>
<td>:%s/old/new/g<em><strong>*c*</strong></em></td>
<td>同上，但是每次替换需要用户确认</td>
</tr>
</tbody></table>
<h3 id="3、执行shell命令"><a href="#3、执行shell命令" class="headerlink" title="3、执行shell命令"></a>3、执行shell命令</h3><p>!shell命令</p>
<p>按下两次esc可以回到命令模式</p>
<h3 id="4、分屏操作"><a href="#4、分屏操作" class="headerlink" title="4、分屏操作"></a>4、分屏操作</h3><ul>
<li><p>在打开文件之后分屏:</p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>操作</th>
</tr>
</thead>
<tbody><tr>
<td>sp</td>
<td>当前文件水平分屏</td>
</tr>
<tr>
<td>vsp</td>
<td>当前文件垂直分屏</td>
</tr>
<tr>
<td>sp 文件名</td>
<td>当前文件和另一个文件水平分屏</td>
</tr>
<tr>
<td>vsp 文件名</td>
<td>当前文件和另一个文件垂直分屏</td>
</tr>
<tr>
<td>ctrl-w-w</td>
<td>在多个窗口切换光标</td>
</tr>
<tr>
<td>wall/wqall/xall/qall/qall!</td>
<td>保存/保存退出/保存退出/退出/强制退出分屏窗口</td>
</tr>
</tbody></table>
</li>
<li><p>打开文件之前分屏：</p>
<p><code>vim -on file1 file2 …  </code></p>
<p><code>垂直分屏: vim -On file1 file2… </code></p>
</li>
</ul>
<h1 id="vim-配置文件"><a href="#vim-配置文件" class="headerlink" title="vim 配置文件"></a>vim 配置文件</h1><h2 id="1、用户级别配置"><a href="#1、用户级别配置" class="headerlink" title="1、用户级别配置"></a>1、用户级别配置</h2><p>~/.vimrc, 修改用户级别的配置文件只会影响当前用户, 不会影响其他的用户.</p>
<p>例如: 在用户的家目录下的.vimrc文件中添加</p>
<p>set tabstop=4  —-设置缩进4个空格</p>
<p>set nu     —-设置行号</p>
<p>set shiftwidth=4  —设置gg=G缩进4个空格, 默认是缩进8个空格</p>
<h2 id="2、系统级别配置"><a href="#2、系统级别配置" class="headerlink" title="2、系统级别配置"></a>2、系统级别配置</h2><p>/etc/vim/vimrc, 修改了系统级别的配置文件将影响系统下的所有用户.</p>
<p>说明: 由于linux是多用户操作系统, 建议只在用户级别的配置文件下进行修改, 不要影响其他用户.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/11/11/Linux/Linux-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/Linux-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/11/Linux/Linux-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/Linux-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-11 10:50:33" itemprop="dateCreated datePublished" datetime="2020-11-11T10:50:33+08:00">2020-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-24 23:02:13" itemprop="dateModified" datetime="2020-11-24T23:02:13+08:00">2020-11-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Shell-相关"><a href="#Shell-相关" class="headerlink" title="Shell 相关"></a>Shell 相关</h1><h2 id="1、什么是Shell"><a href="#1、什么是Shell" class="headerlink" title="1、什么是Shell"></a>1、什么是Shell</h2><p>shell就是命令解析器, shell将用户输入的命令解释成内核能够识别的指令;</p>
<p>现在我们使用的操作系统（Windows、Mac OS、Android、iOS等）都是带图形界面的，简单直观，容易上手                                    </p>
<p>计算机的早期并没有图形界面，我们只能通过一个一个地命令来控制计算机，这些命令有成百上千之多，记住这些命令非常困难</p>
<p>对于图形界面，用户点击某个图标就能启动某个程序；</p>
<p>对于命令行，用户输入某个程序的名字（可以看做一个命令）就能启动某个程序。</p>
<p>这两者的基本过程都是类似的，都需要查找程序在硬盘上的安装位置，然后将它们加载到内存运行</p>
<p><strong>然而，真正能够控制计算机硬件（CPU、内存、显示器等）的只有操作系统内核（Kernel），图形界面和命令行只是架设在用户和内核之间的一座桥梁。</strong></p>
<p>用户不能直接接触内核，需要另外再开发一个<strong>程序</strong>，让用户直接使用这个程序；该程序的作用就是接收用户的操作（点击图标、输入命令），并进行简单的处理，然后再传递给内核。如此一来，用户和内核之间就多了一层“代理”，这层“代理”既简化了用户的操作，也保护了内核。<br><strong>用户界面</strong>和<strong>命令行</strong>就是这个另外开发的<strong>程序</strong>，就是这层“代理”。在Linux下，这个命令行程序叫做 Shell。</p>
<p>用户在终端输入命令, 由shell命令解释器对命令进行解析(按照$PATH环境变量搜索命令), 解析成内核能够识别的指令, 然后由内核执行命令, 最后由终端显示命令执行的结果给用户.</p>
<p><strong>注意</strong>：shell在寻找命令的时候是按照$PATH环境变量去查找的，如果找到了就执行对应的命令，若找不到就报错.</p>
<p> 执行<code>echo $PATH</code>可以查看PATH环境变量的值.</p>
<h2 id="2、Linux的Shell种类"><a href="#2、Linux的Shell种类" class="headerlink" title="2、Linux的Shell种类"></a>2、Linux的Shell种类</h2><ul>
<li>Bourne Shell（/usr/bin/sh或/bin/sh）</li>
<li>Bourne Again Shell（/bin/bash）</li>
<li>C Shell（/usr/bin/csh）</li>
<li>K Shell（/usr/bin/ksh）</li>
<li>Shell for Root（/sbin/sh）</li>
</ul>
<h2 id="3、查看当前系统使用的Shell"><a href="#3、查看当前系统使用的Shell" class="headerlink" title="3、查看当前系统使用的Shell"></a>3、查看当前系统使用的Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $SHELL</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /bin/bash</span></span></span><br></pre></td></tr></table></figure>

<h2 id="4、当前系统支持的Shell"><a href="#4、当前系统支持的Shell" class="headerlink" title="4、当前系统支持的Shell"></a>4、当前系统支持的Shell</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /bin/sh</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /bin/bash</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /usr/bin/bash</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /bin/rbash</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /usr/bin/rbash</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /bin/dash</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /usr/bin/dash</span></span></span><br></pre></td></tr></table></figure>

<h1 id="Linux-目录结构"><a href="#Linux-目录结构" class="headerlink" title="Linux 目录结构"></a>Linux 目录结构</h1><p>Linux系统的目录结构是一个倒立的树状结构, 根目录用  /  表示</p>
<img src="/目录结构.png" alt="目录结构" style="zoom:67%;" />

<h2 id="1、Linux目录详解"><a href="#1、Linux目录详解" class="headerlink" title="1、Linux目录详解"></a>1、Linux目录详解</h2><ul>
<li><p><strong>/bin</strong>：</p>
<p>bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。如: ls , rm , mv, cp等常用命令</p>
</li>
<li><p><strong>/boot：</strong></p>
<p>这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</p>
</li>
<li><p><strong>/dev ：</strong></p>
<p>dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。</p>
<p>字符设备文件、块设备文件，在linux下, 一切皆是文件</p>
</li>
<li><p><strong>/etc：</strong></p>
<p>etc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录。</p>
</li>
<li><p><strong>/home</strong>：</p>
<p>用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，</p>
</li>
<li><p><strong>/lib</strong>：</p>
<p>lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。</p>
</li>
<li><p><strong>/lost+found</strong>：</p>
<p>这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p>
</li>
<li><p><strong>/media</strong></p>
<p>linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。</p>
</li>
<li><p><strong>/mnt</strong>：</p>
<p>系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。</p>
</li>
<li><p><strong>/opt</strong>：</p>
<p>opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</p>
</li>
<li><p><strong>/root</strong>：</p>
<p>该目录为系统管理员，也称作超级权限者的用户主目录。</p>
</li>
<li><p><strong>/sbin</strong>：</p>
<p>s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。</p>
</li>
<li><p><strong>/tmp</strong>：</p>
<p>tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。</p>
</li>
<li><p><strong>/usr</strong>：</p>
<p> usr 是 unix shared resources(共享资源) 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于 windows 下的 program files 目录。</p>
</li>
</ul>
<h1 id="Linux下文件路径"><a href="#Linux下文件路径" class="headerlink" title="Linux下文件路径"></a>Linux下文件路径</h1><h2 id="1、绝对路径"><a href="#1、绝对路径" class="headerlink" title="1、绝对路径"></a>1、绝对路径</h2><p>从根目录开始表示的路径，也就是从/开始</p>
<p>路径的写法，由根目录 <strong>/</strong> 写起，例如：<code> /usr/share/doc</code> </p>
<h2 id="2、相对路径"><a href="#2、相对路径" class="headerlink" title="2、相对路径"></a>2、相对路径</h2><p>从当前所处的目录开始表示的路径。</p>
<p>路径的写法，不是由 <strong>/</strong> 写起，例如由<code> /usr/share/doc</code> 要到 <code>/usr/share/man </code>底下时，可以写成：<code> cd ../man</code>这就是相对路径的写法。</p>
<p> . 表示当前目录</p>
<p>.. 表示当前目录的上一级目录</p>
<h1 id="Linux-处理目录的常用命令"><a href="#Linux-处理目录的常用命令" class="headerlink" title="Linux 处理目录的常用命令"></a>Linux 处理目录的常用命令</h1><h2 id="1、ls-列出目录"><a href="#1、ls-列出目录" class="headerlink" title="1、ls (列出目录)"></a>1、ls (列出目录)</h2><p>ls（英文全拼：list files）: 列出目录及文件名</p>
<ul>
<li><p>查看指定目录下的文件信息</p>
</li>
<li><p>使用方法：</p>
<ul>
<li>ls  –显示当前目录下文件信息</li>
<li>ls 目录或文件名  –显示指定目录下文件信息</li>
</ul>
</li>
<li><p>选项参数：</p>
<ul>
<li><p>-a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)</p>
</li>
<li><p>-d ：仅列出目录本身，而不是列出目录内的文件数据(常用)</p>
</li>
<li><p>-R：递归方式列出所有目录中的内容</p>
</li>
<li><p>-l：列出文件的详细信息, 8部分内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rwxr-xr-x 1 root root        4553 12月 13  2019  znew</span><br></pre></td></tr></table></figure>

<ol>
<li><p>文件的类型 -（第1个字符）（共7种）：</p>
<p>-： 普通文件</p>
<p>d ： 目录</p>
<p>l ：  符号链接，相当于windows中的快捷方式</p>
<p>s ： 套接字</p>
<p>p ： 管道</p>
<p>b ： 块设备</p>
<p>c ： 字符设备</p>
</li>
<li><p>用户的操作权限 （2 – 10个字符）</p>
<p>文件所有者对文件的操作权限 （2,3,4个字符）</p>
<p>文件所属组用户对文件的操作权限（5,6,7个字符）</p>
<p>其他人对文件的操作权限（8,9,10个字符）</p>
</li>
<li><p>硬链接计数:</p>
<p>对于目录来说, 链接计数等于该目录下所有的目录总数(含. 和 ..), 但是不包含该目录的子目录下的目录文件数量, 执行ls -la命令可以进行查看.</p>
<p>对于文件来说, 指的是该文件所有的硬链接文件数量</p>
</li>
<li><p>文件所有者：  root</p>
</li>
<li><p>文件所属组：  root</p>
</li>
<li><p>文件大小：  4553 </p>
<p>如果是目录: 只表示目录大小, 不包含目录中的内容, 目录大小为4k</p>
<p>如果是文件：表示文件大小</p>
</li>
<li><p>文件的创建日期或最后修改时间：12月 13  2019  </p>
</li>
<li><p>文件名：znew</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>参数之间可以结合使用：</p>
<ul>
<li>ls -la : 列出当前目录下所有文件的相信信息, 包括隐藏文件</li>
<li>ls -ltr: 列出当前目录下的文件, 按照时间逆向排序</li>
</ul>
</li>
</ul>
<h2 id="2、cd-切换目录"><a href="#2、cd-切换目录" class="headerlink" title="2、cd (切换目录)"></a>2、cd (切换目录)</h2><p>cd是Change Directory的缩写，这是用来变换工作目录的命令。</p>
<p>使用方法：</p>
<p>cd + 路径（路径可以使用相对路径或者绝对路径）</p>
<ul>
<li><p>切换到家目录（例如: /home/srx）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br><span class="line"></span><br><span class="line">cd ~</span><br><span class="line"></span><br><span class="line">cd /home/srx/</span><br><span class="line"></span><br><span class="line">cd $HOME</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx@srx-virtual-machine:/home$ cd</span></span> </span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx@srx-virtual-machine:~$</span></span> </span><br></pre></td></tr></table></figure></li>
<li><p>临近两个目录直接切换</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd -</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx@srx-virtual-machine:~$ cd -</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /home</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx@srx-virtual-machine:/home$ cd -</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /home/srx</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx@srx-virtual-machine:~$</span></span> </span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3、pwd命令"><a href="#3、pwd命令" class="headerlink" title="3、pwd命令"></a>3、pwd命令</h2><p>查看用户当前所处的工作目录, printf working directory</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">srx@srx-virtual-machine:~/test$ pwd</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /home/srx/test</span></span></span><br></pre></td></tr></table></figure>

<h2 id="4、which命令"><a href="#4、which命令" class="headerlink" title="4、which命令"></a>4、which命令</h2><p>显示命令所在的目录, 如which ls  which cp </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">srx@srx-virtual-machine:~/test$ which ls</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /usr/bin/ls</span></span></span><br><span class="line">srx@srx-virtual-machine:~/test$ which cp</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># /usr/bin/cp</span></span></span><br></pre></td></tr></table></figure>

<h2 id="5、touch命令"><a href="#5、touch命令" class="headerlink" title="5、touch命令"></a>5、touch命令</h2><p>如果文件不存在, 创建新文件, 如果文件存在, 更新文件的最后修改时间。</p>
<p>命令使用方式：touch 文件名</p>
<h2 id="6、mkdir命令"><a href="#6、mkdir命令" class="headerlink" title="6、mkdir命令"></a>6、mkdir命令</h2><p>创建新目录, make directory</p>
<p>创建方式：mkdir目录名</p>
<p>如果创建多级目录需要添加参数 -p</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">srx@srx-virtual-machine:~/test$ mkdir -p mydir/a/bb/ccc</span><br><span class="line">srx@srx-virtual-machine:~/test$ tree mydir/</span><br><span class="line">mydir/</span><br><span class="line">└── a</span><br><span class="line">    └── bb</span><br><span class="line">        └── ccc</span><br><span class="line"></span><br><span class="line">3 directories, 0 files</span><br></pre></td></tr></table></figure>

<h2 id="7、rmdir命令"><a href="#7、rmdir命令" class="headerlink" title="7、rmdir命令"></a>7、rmdir命令</h2><p>删除空目录，只能删除空目录，使用方式：rmdir 目录名</p>
<p><strong>-p ：</strong>连同上一级『空的』目录也一起删除</p>
<h2 id="8、rm命令"><a href="#8、rm命令" class="headerlink" title="8、rm命令"></a>8、rm命令</h2><ul>
<li><p>删除文件： rm 文件名</p>
</li>
<li><p>删除目录： rm  -r 目录名</p>
</li>
<li><p>参数：</p>
<ul>
<li>-r：递归删除目录，删除目录必须添加此参数</li>
<li>-i：提示用户是否删除文件或目录</li>
<li>-f：强制删除</li>
</ul>
</li>
<li><p>注意事项：</p>
<p>使用rm命令删除的文件或目录不会放入回收站中，数据不易恢复。</p>
</li>
</ul>
<h2 id="9、cp-命令"><a href="#9、cp-命令" class="headerlink" title="9、cp 命令"></a>9、cp 命令</h2><p>命令使用方式：cp 源目录或文件 目标目录或文件</p>
<p>若有目录的拷贝需要使用-r参数</p>
<ul>
<li><p>cp 要拷贝的文件（file1） file（不存在）</p>
<p>创建file，将file1中的内容拷贝到file</p>
</li>
<li><p>cp file1 file（存在）</p>
<p>file1覆盖file</p>
</li>
<li><p>cp file dir（存在）</p>
<p>拷贝file到dir目录</p>
</li>
<li><p>cp -r dir（存在） dir1（存在）</p>
<p>将dir目录拷贝到dir1目录中</p>
<p>包括dir目录</p>
</li>
<li><p>cp -r dir（存在） dir1（不存在）</p>
<p>创建dir1</p>
<p>将dir中的内容拷贝到dir1中, 不包括dir目录</p>
</li>
<li><p>cp 拷贝目录也可以用-a参数, 这样可以保留被拷贝的文件的一些属性信息</p>
</li>
</ul>
<h2 id="10、mv命令"><a href="#10、mv命令" class="headerlink" title="10、mv命令"></a>10、mv命令</h2><p>改名或者移动文件 mv file1 file2</p>
<ul>
<li><p>改名</p>
<p>mv file（存在） file1（不存在）</p>
<p>mv dir（存在） dir1（不存在）</p>
<p>mv file（存在） file2（存在）</p>
</li>
<li><p>移动文件(第二个参数一定是目录文件)</p>
<ul>
<li><p>mv file（文件） dir（存在目录）</p>
<p>将file文件移动到dir中</p>
</li>
<li><p>mv dir（目录存在） dir1（目录存在）</p>
<p>将dir移动到dir1中, dir就会作为dir1的子目录而存在</p>
</li>
</ul>
</li>
<li><p>参数：</p>
<ul>
<li>-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</li>
<li>-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</li>
</ul>
</li>
</ul>
<h1 id="Linux文件内容查看命令"><a href="#Linux文件内容查看命令" class="headerlink" title="Linux文件内容查看命令"></a>Linux文件内容查看命令</h1><h2 id="1、cat命令"><a href="#1、cat命令" class="headerlink" title="1、cat命令"></a>1、cat命令</h2><p>将文件内容一次性输出到终端。</p>
<p>使用方式： cat 文件名</p>
<p>缺点：终端显示的内容有限，如果文件太长无法全部显示。</p>
<p>可用于文件重定向: cat file1&gt;file2, 相当于cp file1 file2</p>
<p>选项与参数：</p>
<ul>
<li>-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！</li>
<li>-n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；</li>
</ul>
<h2 id="2、more命令"><a href="#2、more命令" class="headerlink" title="2、more命令"></a>2、more命令</h2><p>文件内容分页显示到终端，但是只能一直向下浏览，不能回退。</p>
<p>使用方式：more + 文件名</p>
<p>相关操作：</p>
<ul>
<li>显示下一行：回车</li>
<li>显示下一页：空格</li>
<li>退出：q（ctrl + c）</li>
</ul>
<h2 id="3、less命令"><a href="#3、less命令" class="headerlink" title="3、less命令"></a>3、less命令</h2><p>文件内容分页显示到终端，可以自由上下浏览。</p>
<p>使用方式：less 文件名</p>
<p>相关操作：</p>
<ul>
<li>显示下一行：回车、ctrl + p、键盘向下键</li>
<li>显示上一行：ctrl + n、键盘向上键</li>
<li>显示下一页：空格、PageDown</li>
<li>显示上一页：PageUp</li>
<li>退出：q（ctrl + c）</li>
</ul>
<h2 id="4、head命令"><a href="#4、head命令" class="headerlink" title="4、head命令"></a>4、head命令</h2><p>从文件头部开始查看前n行的内容</p>
<p>使用方式：head -n[行数] 文件名</p>
<p>如果没有指定行数，默认显示前10行内容</p>
<h2 id="5、tail命令"><a href="#5、tail命令" class="headerlink" title="5、tail命令"></a>5、tail命令</h2><p>从文件尾部向上查看最后n行的内容</p>
<p>使用方式：tail -n[行数] 文件名</p>
<p>如果没有指定行数，默认显示最后10行内容</p>
<p>一个比较重要的应用：显示日志 : tail -f test.log</p>
<p>一个终端tail -f test.log , 另一个终端: echo “hello world” &gt;&gt;test.log</p>
<h2 id="6、wc命令"><a href="#6、wc命令" class="headerlink" title="6、wc命令"></a>6、wc命令</h2><p>显示文件行数, 字节数, 单词数</p>
<ul>
<li><p>wc -l file显示文件的总行数</p>
</li>
<li><p>wc -c file显示文件的总字节数</p>
</li>
<li><p>wc -w file显示文件的总单词数</p>
</li>
<li><p>wc file 显示文件的总行数, 单词数和总字节数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">srx@srx-virtual-machine:~/test$ wc test.log</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 5 10 60 test.log</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h1><p>软连接类似于windows下的快捷方式</p>
<h2 id="1、如何创建软连接"><a href="#1、如何创建软连接" class="headerlink" title="1、如何创建软连接"></a>1、如何创建软连接</h2><ul>
<li>ln -s 文件名 快捷方式的名字</li>
<li>目录也可以创建软连接</li>
</ul>
<h2 id="2、创建软链接应注意事项"><a href="#2、创建软链接应注意事项" class="headerlink" title="2、创建软链接应注意事项"></a>2、创建软链接应注意事项</h2><ul>
<li>ln创建软连接要用绝对路径，因为如果不使用绝对路径，一旦这个连接文件发生位置变动，就不能找到那个文件了。</li>
<li>软连接文件的大小是: 路径+文件名的总字节数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln -s /home/srx/test/aaa.txt aaa.txt.link</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 395906 -rw-rw-r-- 1 srx srx    0 11月 11 20:09 aaa.txt</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 395907 lrwxrwxrwx 1 srx srx   22 11月 11 20:11 aaa.txt.link -&gt; /home/srx/test/aaa.txt</span></span></span><br></pre></td></tr></table></figure>

<h1 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h1><h2 id="1、如何创建硬链接"><a href="#1、如何创建硬链接" class="headerlink" title="1、如何创建硬链接"></a>1、如何创建硬链接</h2><p>ln 文件名 硬链接的名字</p>
<p>ln test.log test.log.hard</p>
<h2 id="2、使用硬链接的注意事项"><a href="#2、使用硬链接的注意事项" class="headerlink" title="2、使用硬链接的注意事项"></a>2、使用硬链接的注意事项</h2><ul>
<li><p>硬链接不能建在目录上</p>
</li>
<li><p>硬连接对绝对路径没有要求</p>
</li>
<li><p>硬连接不能跨文件系统</p>
<p><strong>硬链接文件和源文件的inode是相同的</strong>，文件系统的inode要求唯一，跨文件系统可能会使inode不同, 所以硬链接不能跨文件系统</p>
</li>
<li><p>创建一个硬链接文件, 硬链接计数+1, 删除一个则-1;</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln /home/srx/test.log test.log.a</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 395891 -rw-rw-r-- 2 srx srx   60 11月 11 19:47 test.log         inode相同</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 395891 -rw-rw-r-- 2 srx srx   60 11月 11 19:47 test.log.a</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3、硬链接的本质"><a href="#3、硬链接的本质" class="headerlink" title="3、硬链接的本质"></a>3、硬链接的本质</h2><ul>
<li>硬连接的本质是不同的文件名所在的inode节点是相同的，相同的inode节点指向了相同的数据块，所以他们的文件内容是一样的，<strong>文件内容会同步</strong>。</li>
<li>ls -i 文件名———– 可以查看文件的inode</li>
<li>stat 文件名 ——– 可以查看文件的inode</li>
</ul>
<h2 id="4、硬链接应用场合"><a href="#4、硬链接应用场合" class="headerlink" title="4、硬链接应用场合"></a>4、硬链接应用场合</h2><ul>
<li><p>可以起到同步文件的作用</p>
<p>修改file的内容, 会在其余三个硬链接文件上同步.</p>
</li>
<li><p>可以起到保护文件的作用</p>
<p>删除文件的时候, 只要硬链接计数不为0, 不会真正删除, 起到保护文件的作用.</p>
</li>
</ul>
<h1 id="用户权限、用户、用户组"><a href="#用户权限、用户、用户组" class="headerlink" title="用户权限、用户、用户组"></a>用户权限、用户、用户组</h1><h2 id="1、whoami"><a href="#1、whoami" class="headerlink" title="1、whoami"></a>1、whoami</h2><p>显示当前登陆的用户名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">srx@srx-virtual-machine:~/test$ whoami</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># srx</span></span></span><br></pre></td></tr></table></figure>

<h2 id="2、修改文件权限chmod"><a href="#2、修改文件权限chmod" class="headerlink" title="2、修改文件权限chmod"></a>2、修改文件权限chmod</h2><p>linux是通过权限对文件进行控制的, 通过使用chmod命令可以修改文件相关的权限.</p>
<ol>
<li><p>文字设定法</p>
<ul>
<li><p>命令：chmod [who] [+|-|=] [mode] 文件名</p>
</li>
<li><p>操作对象： [who]</p>
<p>u—-用户（usr）</p>
<p>g—-同组用户（group）</p>
<p>o—-其他用户（other）</p>
<p>a—-所有用户（all）默认</p>
</li>
<li><p>操作符: [+|-|=]</p>
<p>+：添加权限</p>
<p>-：取消权限</p>
<p>=：赋予指定权限，并取消其他权限</p>
</li>
<li><p>权限：[mode] </p>
<p>r：只读权限</p>
<p>w：只写权限</p>
<p>x：可执行权限</p>
</li>
<li><p>例：<code>chmod ug+wx file.log</code></p>
</li>
</ul>
</li>
<li><p>数字设定法</p>
<ul>
<li><p>命令：chmod [+|-|=][mode] 文件名</p>
</li>
<li><p>操作符 : [+-=]</p>
<p>+：添加权限</p>
<p>-：取消权限</p>
<p>=：赋予指定权限，并取消其他权限</p>
</li>
<li><p>数字含义：</p>
<p>4：可读权限（r）</p>
<p>2：可写权限（w）</p>
<p>1：可执行权限（x）</p>
<p>0：无权限</p>
</li>
<li><p>例：<code>chmod 777  file.log</code></p>
</li>
</ul>
</li>
</ol>
<h2 id="3、修改文件所有者和所属组"><a href="#3、修改文件所有者和所属组" class="headerlink" title="3、修改文件所有者和所属组"></a>3、修改文件所有者和所属组</h2><ol>
<li><p>修改文件所有者（和所属组）chown</p>
<ul>
<li><p>用法：chown 文件所有者 文件名</p>
<p><code>sudo chown mytest file.txt</code></p>
</li>
<li><p>用法：chown 文件所有者:文件所属组 文件名</p>
<p><code>sudo chown mytest:mytest file.txt</code></p>
<p><code>sudo chown mytest.mytest file.txt</code></p>
<p><code>sudo chown :mytest file.txt</code></p>
<p><code>sudo chown .mytest file.txt</code></p>
</li>
<li><p>注意：</p>
<p>普通用户需要使用管理员用户权限执行该命令</p>
<p>若系统没有其他用户, 可以使用<code>sudo adduser 用户名 </code>创建一个新用户.</p>
</li>
</ul>
</li>
<li><p>修改文件所属组chgrp</p>
<ul>
<li><p>使用方法：chgrp 用户组 文件或目录名</p>
<p><code>sudo chgrp mytest file.txt</code></p>
</li>
<li><p>普通用户需要使用管理员权限执行该命令</p>
</li>
</ul>
</li>
</ol>
<h1 id="find-命令"><a href="#find-命令" class="headerlink" title="find 命令"></a>find 命令</h1><h2 id="1、按文件名查询"><a href="#1、按文件名查询" class="headerlink" title="1、按文件名查询"></a>1、按文件名查询</h2><p>使用参数 -name</p>
<ul>
<li>命令：find  路径  -name  “文件名”</li>
<li>示例：<code>find /home -name &quot;*.c&quot;</code></li>
</ul>
<h2 id="2、按类型类型查询"><a href="#2、按类型类型查询" class="headerlink" title="2、按类型类型查询"></a>2、按类型类型查询</h2><p>使用参数 -type</p>
<ul>
<li><p>命令：find 路径 -type 类型</p>
<p>type（d：目录、f：普通文件、l：链接文件、s；套接字文件、p：管道文件、b：块设备文件、c：字符设备文件）</p>
</li>
<li><p>示例：<code>srx@srx-virtual-machine:~/test$ find -type f</code>  查找当前目录下的普通文件</p>
</li>
</ul>
<h2 id="3、按文件大小查询"><a href="#3、按文件大小查询" class="headerlink" title="3、按文件大小查询"></a>3、按文件大小查询</h2><p>使用参数 -size</p>
<ul>
<li><p>命令：find  路径  -size  范围</p>
</li>
<li><p>范围：</p>
<p>大于：+ 表示—- +100k</p>
<p>小于：-  表示—- -100k</p>
<p>等于：无需添加符号— 100k</p>
<p>区间：-size +100k -size -500k</p>
</li>
<li><p>大小：</p>
<p>M：必须大写</p>
<p>k：必须小写</p>
<p>c：表示字节数</p>
</li>
<li><p>示例：家目录下大于50k, 小于100k的文件:  <code>find ~/ -size +50k -size -100k</code></p>
</li>
</ul>
<h2 id="4、按文件日期查询"><a href="#4、按文件日期查询" class="headerlink" title="4、按文件日期查询"></a>4、按文件日期查询</h2><ul>
<li><p>创建日期：-ctime -n/+ n</p>
<p> -n: n天以内</p>
<p>+n: n天以外</p>
</li>
<li><p>修改日期：-mtime -n/+n</p>
</li>
<li><p>访问日期：-atime -n/+n</p>
</li>
</ul>
<h2 id="5、按深度"><a href="#5、按深度" class="headerlink" title="5、按深度"></a>5、按深度</h2><ul>
<li><p>-maxdepth n(层数）</p>
<p>递归搜索目录, 搜索的层数不超过n层</p>
</li>
<li><p>-mindepth n(层数)</p>
<p>递归搜索目录,搜索的层数不能小于n层</p>
</li>
</ul>
<h2 id="6、高级查询"><a href="#6、高级查询" class="headerlink" title="6、高级查询"></a>6、高级查询</h2><ul>
<li><p>查找指定目录下所有目录，并列出目录中文件详细信息</p>
<ul>
<li><p><code>find ./ -type d -exec shell命令 &#123;&#125; \;</code></p>
<p><code> find ./ -type d -exec ls -l &#123;&#125; \;</code></p>
</li>
<li><p><code>find ./ -type d -ok shell命令 &#123;&#125; \;</code></p>
<p><code>find ./ -type d -ok ls -l &#123;&#125; \;</code></p>
<p>注意: {}中间不能有空格</p>
<p>ok比较安全, 特别是在执行rm删除文件的时候.</p>
</li>
<li><p><code>find ./ -type d | xargs shell命令</code></p>
<p><code>find ./ -type d | xargs ls -l</code></p>
</li>
</ul>
</li>
</ul>
<h1 id="grep-命令"><a href="#grep-命令" class="headerlink" title="grep 命令"></a>grep 命令</h1><ul>
<li><p>grep -r（有目录） “查找的内容” 搜索的路径</p>
<ul>
<li>-r 参数, 若是目录, 则可以递归搜索</li>
<li>-n 参数可以显示该查找内容所在的行号</li>
<li>-i 参数可以忽略大小写进行查找</li>
<li>-v 参数不显示含有某字符串</li>
</ul>
</li>
<li><p>搜索当前目录下包含hello world字符串的文件</p>
<ul>
<li>grep -r -n “hello world” ./   ——显示行号</li>
<li>grep -r -i -n “HELLO world” ./  ——-忽略大小写查找</li>
</ul>
</li>
<li><p>find 和 grep命令配合使用</p>
<p>先使用find命令查找文件, 然后使用grep命令查找哪些文件包含某个字符串</p>
<p><code>find . -name &quot;*.log&quot; | xargs grep -n &quot;hello&quot; ./</code></p>
</li>
</ul>
<h1 id="Linux中常用的压缩工具"><a href="#Linux中常用的压缩工具" class="headerlink" title="Linux中常用的压缩工具"></a>Linux中常用的压缩工具</h1><h2 id="1、gzip-和-bzip2工具"><a href="#1、gzip-和-bzip2工具" class="headerlink" title="1、gzip 和 bzip2工具"></a>1、gzip 和 bzip2工具</h2><p>不能压缩目录，只能一个一个文件进行压缩，压缩之后会使原文件消失</p>
<ul>
<li>gzip *   压缩当前目录下所有的文件, 但是目录不能压缩</li>
<li>gunzip *  解压当前目录下所有的.gz文件</li>
<li>bzip2 *  压缩当前目录下所有的文件, 但是目录不能压缩</li>
<li>bunzip2 * 解压当前目录下所有的. bz2文件</li>
</ul>
<h2 id="2、tar工具"><a href="#2、tar工具" class="headerlink" title="2、tar工具"></a>2、tar工具</h2><ul>
<li><p>相关参数说明：</p>
<ul>
<li>z：用gzip来压缩/解压缩文件</li>
<li>j：用bzip2来压缩/解压缩文件</li>
<li>c：create, 创建新的压缩文件, 与x互斥使用</li>
<li>x：从压缩文件中释放文件, 与c互斥使用</li>
<li>v：详细报告tar处理的文件信息</li>
<li>f：指定压缩文件的名字</li>
<li>t:  查看压缩包中有哪些文件</li>
</ul>
</li>
<li><p>压缩：</p>
<ul>
<li><p>tar cvf 压缩包名字.tar 原材料[要打包压缩的文件或目录]</p>
</li>
<li><p>tar zcvf 压缩包名字.tar.gz 原材料[要打包压缩的文件或目录]</p>
</li>
<li><p>tar jcvf 压缩包名字.tar.bz2 原材料[要打包压缩的文件或目录]</p>
</li>
</ul>
</li>
<li><p>解压缩：</p>
<ul>
<li><p>tar  xvf  已有的压缩包（test.tar.gz）</p>
</li>
<li><p>tar  zxvf  已有的压缩包（test.tar.gz）</p>
</li>
<li><p>tar  jxvf  已有的压缩包（test.tar.bz2）</p>
</li>
<li><p>解压到指定目录：添加参数 -C（大写）</p>
<p><code>tar zxvf test.tar.gz -C 解压目录</code></p>
</li>
</ul>
</li>
<li><p>查看压缩包里有哪些文件</p>
<p><code>tar -tvf test.tar</code></p>
</li>
</ul>
<h2 id="3、rar工具"><a href="#3、rar工具" class="headerlink" title="3、rar工具"></a>3、rar工具</h2><ul>
<li><p>使用前需要安装 rar 工具</p>
<p><code>sudo apt-get install rar</code></p>
</li>
<li><p>压缩：</p>
<p>命令：rar a -r 要压缩的文件（含文件或者目录）</p>
<p><code>rar a -r my aa bb dir</code>   将aa bb dir 压缩袋my.rar</p>
<p>打包生成的新文件无需指定后缀</p>
</li>
<li><p>解压缩：</p>
<p>命令：rar x xxx.rar 解压目录（必须存在）</p>
<p><code>rar a -r my.rar</code>   将my.rar 解压到当前目录下</p>
<p><code>rar a -r my.rar mydir</code>  将my.rar解压到mydir目录下</p>
</li>
</ul>
<h2 id="4、zip工具"><a href="#4、zip工具" class="headerlink" title="4、zip工具"></a>4、zip工具</h2><ul>
<li><p>压缩：zip -r 压缩包名 要压缩的文件（含文件或目录）</p>
<p><code>zip -r xxx file dir</code>   将文件file和目录dir压缩到xxx.zip文件中</p>
<p>无需指定压缩包后缀名</p>
</li>
<li><p>解压缩：unzip 压缩包名</p>
<p>解压缩到指定目录：添加参数 -d</p>
<p><code>unzip xxx.zip -d /home/srx/test</code></p>
<p>注意：解压目录若不存在则会创建</p>
</li>
</ul>
<h1 id="Linux软件安装和卸载"><a href="#Linux软件安装和卸载" class="headerlink" title="Linux软件安装和卸载"></a>Linux软件安装和卸载</h1><h2 id="1、在线安装"><a href="#1、在线安装" class="headerlink" title="1、在线安装"></a>1、在线安装</h2><ul>
<li><p>软件安装</p>
<p><code>sudo apt-get install 软件名</code></p>
</li>
<li><p>软卸载</p>
<p><code>sudo apt-get remove 软件名</code></p>
</li>
<li><p>更新软件列表</p>
<p>`sudo apt-get updatae</p>
</li>
<li><p>清理安装包</p>
<p><code>sudo apt-get clean</code></p>
</li>
</ul>
<h2 id="2、软件包安装"><a href="#2、软件包安装" class="headerlink" title="2、软件包安装"></a>2、软件包安装</h2><p>在Ubuntu系统下必须有deb格式的安装包</p>
<ul>
<li><p>软件安装</p>
<p><code>sudo dpkg -i xxx.deb</code></p>
</li>
<li><p>软件卸载</p>
<p><code>sudo dpkg -r 软件名</code></p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/10/27/STL/%E8%B0%93%E8%AF%8D/%E8%B0%93%E8%AF%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/STL/%E8%B0%93%E8%AF%8D/%E8%B0%93%E8%AF%8D/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-27 17:14:07 / 修改时间：17:44:37" itemprop="dateCreated datePublished" datetime="2020-10-27T17:14:07+08:00">2020-10-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="谓词"><a href="#谓词" class="headerlink" title="谓词"></a>谓词</h1><p>谓词是指普通函数或重载的operator()返回值是bool类型的函数对象(仿函数)。如果operator接受一个参数，那么叫做一元谓词,如果接受两个参数，那么叫做二元谓词，谓词可作为一个判断式。</p>
<h2 id="1、一元谓词"><a href="#1、一元谓词" class="headerlink" title="1、一元谓词"></a>1、一元谓词</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GreaterThenFive</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num &gt; <span class="number">5</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//一元谓词</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator it =  <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">GreaterThenFive</span>());</span><br><span class="line">	<span class="keyword">if</span> (it!=v.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到了: &quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;没有找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、二元谓词"><a href="#2、二元谓词" class="headerlink" title="2、二元谓词"></a>2、二元谓词</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1 &gt; num2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">90</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//默认从小到大</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>();it++)&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;----------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//使用函数对象改变算法策略，排序从大到小</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(),<span class="built_in">MyCompare</span>());</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="keyword">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/10/27/STL/%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/STL/%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-27 17:13:53 / 修改时间：18:07:05" itemprop="dateCreated datePublished" datetime="2020-10-27T17:13:53+08:00">2020-10-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="内建函数对象"><a href="#内建函数对象" class="headerlink" title="内建函数对象"></a>内建函数对象</h1><p>STL内建了一些函数对象。</p>
<p>分为:算数类函数对象,关系运算类函数对象，逻辑运算类仿函数。这些仿函数所产生的对象，用法和一般函数完全相同，当然我们还可以产生无名的临时对象来履行函数功能。</p>
<p>使用内建函数对象，需要引入头文件 <code>#include&lt;functional&gt;</code>。</p>
<h2 id="1、6个算数类函数对象-除了negate是一元运算，其他都是二元运算。"><a href="#1、6个算数类函数对象-除了negate是一元运算，其他都是二元运算。" class="headerlink" title="1、6个算数类函数对象,除了negate是一元运算，其他都是二元运算。"></a>1、6个算数类函数对象,除了negate是一元运算，其他都是二元运算。</h2><table>
<thead>
<tr>
<th>序号</th>
<th>原型</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>template<class T> T plus<T></td>
<td>加法仿函数</td>
</tr>
<tr>
<td>2</td>
<td>template<class T> T minus<T></td>
<td>减法仿函数</td>
</tr>
<tr>
<td>3</td>
<td>template<class T> T multiplies<T></td>
<td>乘法仿函数</td>
</tr>
<tr>
<td>4</td>
<td>template<class T> T divides<T></td>
<td>除法仿函数</td>
</tr>
<tr>
<td>5</td>
<td>template<class T> T modulus<T></td>
<td>取模仿函数</td>
</tr>
<tr>
<td>6</td>
<td>template<class T> T negate<T></td>
<td>取反仿函数</td>
</tr>
</tbody></table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加法仿函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	plus&lt;<span class="keyword">int</span>&gt; p;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">p</span>(<span class="number">10</span>, <span class="number">20</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//取反仿函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    negate&lt;<span class="keyword">int</span>&gt; n;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">n</span>(<span class="number">15</span>)&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、6个关系运算类函数对象-每一种都是二元运算。"><a href="#2、6个关系运算类函数对象-每一种都是二元运算。" class="headerlink" title="2、6个关系运算类函数对象,每一种都是二元运算。"></a>2、6个关系运算类函数对象,每一种都是二元运算。</h2><table>
<thead>
<tr>
<th>序号</th>
<th>原型</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>template<class T> bool equal_to<T></td>
<td>等于</td>
</tr>
<tr>
<td>2</td>
<td>template<class T> bool not_equal_to<T></td>
<td>不等于</td>
</tr>
<tr>
<td>3</td>
<td>template<class T> bool greater<T></td>
<td>大于</td>
</tr>
<tr>
<td>4</td>
<td>template<class T> bool greater_equal<T></td>
<td>大于等于</td>
</tr>
<tr>
<td>5</td>
<td>template<class T> bool less<T></td>
<td>小于</td>
</tr>
<tr>
<td>6</td>
<td>template<class T> bool less_equal<T></td>
<td>小于等于</td>
</tr>
</tbody></table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//大于仿函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(<span class="built_in">rand</span>()%<span class="number">20</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="keyword">int</span>&gt;::iterator it=v.<span class="built_in">begin</span>();it!=v.<span class="built_in">end</span>();it++)&#123;</span><br><span class="line">        cout&lt;&lt;*it&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="keyword">int</span>&gt;::iterator it=v.<span class="built_in">begin</span>();it!=v.<span class="built_in">end</span>();it++)&#123;</span><br><span class="line">        cout&lt;&lt;*it&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、逻辑运算类运算函数-not为一元运算，其余为二元运算。"><a href="#3、逻辑运算类运算函数-not为一元运算，其余为二元运算。" class="headerlink" title="3、逻辑运算类运算函数,not为一元运算，其余为二元运算。"></a>3、逻辑运算类运算函数,not为一元运算，其余为二元运算。</h2><table>
<thead>
<tr>
<th>序号</th>
<th>原型</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>template<class T> bool logical_and<T></td>
<td>逻辑与</td>
</tr>
<tr>
<td>2</td>
<td>template<class T> bool logical_or<T></td>
<td>逻辑或</td>
</tr>
<tr>
<td>3</td>
<td>template<class T> bool logical_not<T></td>
<td>逻辑非</td>
</tr>
</tbody></table>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    logical_and&lt;<span class="keyword">int</span>&gt; L;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">L</span>(<span class="number">10</span>,<span class="number">0</span>)&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    logical_not&lt;<span class="keyword">int</span>&gt; P;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">P</span>(<span class="number">0</span>)&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/10/27/STL/%E9%80%82%E9%85%8D%E5%99%A8/%E9%80%82%E9%85%8D%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/STL/%E9%80%82%E9%85%8D%E5%99%A8/%E9%80%82%E9%85%8D%E5%99%A8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 17:13:39" itemprop="dateCreated datePublished" datetime="2020-10-27T17:13:39+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-28 13:51:21" itemprop="dateModified" datetime="2020-10-28T13:51:21+08:00">2020-10-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="函数对象适配器"><a href="#函数对象适配器" class="headerlink" title="函数对象适配器"></a>函数对象适配器</h1><p>函数适配器<code>bind1st</code>     <code>bind2nd</code></p>
<p>现在我有这个需求 在遍历容器的时候，我希望将容器中的值全部加上100之后显示出来，怎么做？</p>
<p><code>for_each(v.begin(), v.end(), bind2nd(myprint(),100));</code></p>
<p>如果我们想使用绑定适配器,需要我们自己的函数对象继承<code>binary_function</code> 或者 <code>unary_function</code>，根据我们函数对象是一元函数对象 还是二元函数对象</p>
<ul>
<li>利用<code>bind2nd </code>进行绑定</li>
<li>继承 <code>public binary_function&lt;参数1 类型,参数2类型,返回值类型&gt;</code></li>
<li>加<code>const</code></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span>:</span><span class="keyword">public</span> binary_function&lt;<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">void</span>&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val,<span class="keyword">int</span> start)</span><span class="keyword">const</span></span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;val=&quot;</span>&lt;&lt;val&lt;&lt;<span class="string">&quot; start=&quot;</span>&lt;&lt;start&lt;&lt;<span class="string">&quot; sum=&quot;</span>&lt;&lt;val+start&lt;&lt;endl; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;请输入起始值：&quot;</span>;</span><br><span class="line">	<span class="keyword">int</span> start;</span><br><span class="line">	cin&gt;&gt;start;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">bind2nd</span>(<span class="built_in">MyPrint</span>(),start)); </span><br><span class="line">    <span class="comment">//for_each(v.begin(),v.end(),bind1st(MyPrint(),start));</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="取反适配器"><a href="#取反适配器" class="headerlink" title="取反适配器"></a>取反适配器</h1><h2 id="1、一元取反-not1"><a href="#1、一元取反-not1" class="headerlink" title="1、一元取反  not1"></a>1、一元取反  not1</h2><p><code>not1 </code>对一元函数对象取反</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GreaterThanFive</span>:</span><span class="keyword">public</span> unary_function&lt;<span class="keyword">int</span>,<span class="keyword">bool</span>&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span><span class="keyword">const</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val&gt;<span class="number">5</span>;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//一元取反</span></span><br><span class="line">	<span class="comment">//vector&lt;int&gt;::iterator pos=find_if(v.begin(),v.end(),GreaterThanFive());         //回第一个大于5的迭代器</span></span><br><span class="line">	<span class="comment">//vector&lt;int&gt;::iterator pos=find_if(v.begin(),v.end(),not1(GreaterThanFive()));   //返回第一个小于5迭代器</span></span><br><span class="line">	<span class="comment">//vector&lt;int&gt;::iterator pos=find_if(v.begin(),v.end(),bind2nd(greater&lt;int&gt;(),6));</span></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator pos=<span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">not1</span>(<span class="built_in">bind2nd</span>(greater&lt;<span class="keyword">int</span>&gt;(),<span class="number">6</span>)));</span><br><span class="line">	<span class="keyword">if</span> (pos == v.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;没找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到&quot;</span> &lt;&lt; *pos &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、二元取反-not2"><a href="#2、二元取反-not2" class="headerlink" title="2、二元取反  not2"></a>2、二元取反  not2</h2><p><code>not2 </code>对二元函数对象取反</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(<span class="built_in">rand</span>() % <span class="number">20</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//二元取反</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">not2</span>(less_equal&lt;<span class="keyword">int</span>&gt;()));</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val)&#123;cout &lt;&lt; val &lt;&lt;<span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="函数指针适配器-ptr-fun"><a href="#函数指针适配器-ptr-fun" class="headerlink" title="函数指针适配器  ptr_fun"></a>函数指针适配器  ptr_fun</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPrint3</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;val=&quot;</span> &lt;&lt; val &lt;&lt; <span class="string">&quot; start=&quot;</span> &lt;&lt; start &lt;&lt; <span class="string">&quot; sum=&quot;</span> &lt;&lt; val + start &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数指针适配器</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//将函数指针 适配成函数对象  ptr_fun</span></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">bind2nd</span>(<span class="built_in">ptr_fun</span>(myPrint3), <span class="number">1000</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="成员函数适配器"><a href="#成员函数适配器" class="headerlink" title="成员函数适配器"></a>成员函数适配器</h1><h2 id="1、如果容器中存放的是对象实体，那么用mem-fun-ref"><a href="#1、如果容器中存放的是对象实体，那么用mem-fun-ref" class="headerlink" title="1、如果容器中存放的是对象实体，那么用mem_fun_ref"></a>1、如果容器中存放的是对象实体，那么用<code>mem_fun_ref</code></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="keyword">int</span> age) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">ShowPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Plus100</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name += <span class="string">&quot;儿&quot;</span>;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age += <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(Person &amp;p)</span> </span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreatPerson</span><span class="params">(vector&lt;Person&gt; &amp;v)</span> </span>&#123;</span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;妲己&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;赵云&quot;</span>, <span class="number">31</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;亚瑟&quot;</span>, <span class="number">32</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;亚索&quot;</span>, <span class="number">33</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;剑姬&quot;</span>, <span class="number">34</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line">	<span class="built_in">CreatPerson</span>(v);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), Print);   <span class="comment">//回调函数</span></span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//利用 mem_fun_ref 将Person内部成员函数适配</span></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun_ref</span>(&amp;Person::ShowPerson));</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun_ref</span>(&amp;Person::Plus100));</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun_ref</span>(&amp;Person::ShowPerson));</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、如果容器存放的是对象指针，-那么用mem-fun"><a href="#2、如果容器存放的是对象指针，-那么用mem-fun" class="headerlink" title="2、如果容器存放的是对象指针，  那么用mem_fun"></a>2、如果容器存放的是对象指针，  那么用<code>mem_fun</code></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="keyword">int</span> age) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">ShowPerson</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Plus100</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name += <span class="string">&quot;儿&quot;</span>;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age += <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreatPerson</span><span class="params">(vector&lt;Person*&gt; &amp;v)</span> </span>&#123;</span><br><span class="line">	Person* p1 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;妲己&quot;</span>, <span class="number">30</span>);</span><br><span class="line">	Person* p2 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;赵云&quot;</span>, <span class="number">31</span>);</span><br><span class="line">	Person* p3 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;亚瑟&quot;</span>, <span class="number">32</span>);</span><br><span class="line">	Person* p4 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;亚索&quot;</span>, <span class="number">33</span>);</span><br><span class="line">	Person* p5 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;剑姬&quot;</span>, <span class="number">34</span>);</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(Person* p)</span> </span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; p-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; p-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;Person*&gt; v;</span><br><span class="line">	<span class="built_in">CreatPerson</span>(v);</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), Print);   <span class="comment">//回调函数</span></span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//利用 mem_fun_ref 将Person内部成员函数适配</span></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun</span>(&amp;Person::ShowPerson));</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun</span>(&amp;Person::Plus100));</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">mem_fun</span>(&amp;Person::ShowPerson));</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/10/27/STL/%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/STL/%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-27 17:13:26 / 修改时间：17:36:15" itemprop="dateCreated datePublished" datetime="2020-10-27T17:13:26+08:00">2020-10-27</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="函数对象"><a href="#函数对象" class="headerlink" title="函数对象"></a>函数对象</h1><p>重载函数调用操作符的类，其对象常称为函数对象（function object），即它们是行为类似函数的对象，也叫仿函数(functor),其实就是重载“()”操作符，使得类对象可以像函数那样调用。</p>
<ul>
<li>函数对象(仿函数)是一个类，不是一个函数。</li>
<li>函数对象(仿函数)重载了”() ”操作符使得它可以像函数一样调用。</li>
<li>函数对象重载了()操作符的类实例化的对象，可以像普通函数那样调用,可以有参数 ，可以有返回值</li>
</ul>
<p>分类:</p>
<ul>
<li>假定某个类有一个重载的operator()，而且重载的operator()要求获取一个参数，我们就将这个类称为“一元仿函数”（unary functor）；</li>
<li>相反，如果重载的operator()要求获取两个参数，就将这个类称为“二元仿函数”（binary functor）。</li>
</ul>
<h1 id="函数对象是重载了函数调用符号的类"><a href="#函数对象是重载了函数调用符号的类" class="headerlink" title="函数对象是重载了函数调用符号的类"></a>函数对象是重载了函数调用符号的类</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;    </span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;val=&quot;</span>&lt;&lt;val&lt;&lt;endl; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;val=&quot;</span>&lt;&lt;val&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	MyPrint myprint;</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);          <span class="comment">//本质是一个类的对象，因此称为函数对象，也叫仿函数</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">Print</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="函数对象-超出了普通函数的概念，可以保存函数的调用状态"><a href="#函数对象-超出了普通函数的概念，可以保存函数的调用状态" class="headerlink" title="函数对象 超出了普通函数的概念，可以保存函数的调用状态"></a>函数对象 超出了普通函数的概念，可以保存函数的调用状态</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;val=&quot;</span>&lt;&lt;val&lt;&lt;endl; </span><br><span class="line">		m_Count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> m_Count=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	MyPrint myprint;</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="number">10</span>);</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;调用次数：&quot;</span>&lt;&lt;myprint.m_Count&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="函数对象可以作为函数参数"><a href="#函数对象可以作为函数参数" class="headerlink" title="函数对象可以作为函数参数"></a>函数对象可以作为函数参数</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doPrint</span><span class="params">(MyPrint myPrint , <span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">myPrint</span>(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">doPrint</span>(<span class="built_in">MyPrint</span>(), <span class="number">1000</span>);    <span class="comment">//MyPrint()-----匿名函数对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li>函数对象通常不定义构造函数和析构函数，所以在构造和析构时不会发生任何问题，避免了函数调用的运行时问题。</li>
<li>函数对象超出普通函数的概念，函数对象可以有自己的状态</li>
<li>函数对象可内联编译，性能好。用函数指针几乎不可能</li>
<li>模版函数对象使函数对象具有通用性，这也是它的优势之一 </li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://smilesrx.github.io/2020/10/27/STL/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CandyKing">
      <meta itemprop="description" content="虾米">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逆玺之路">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/27/STL/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-27 17:13:14" itemprop="dateCreated datePublished" datetime="2020-10-27T17:13:14+08:00">2020-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-29 15:12:50" itemprop="dateModified" datetime="2020-10-29T15:12:50+08:00">2020-10-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="算法概述"><a href="#算法概述" class="headerlink" title="算法概述"></a>算法概述</h1><p>算法主要是由头文件<code>&lt;algorithm&gt;</code>   <code>&lt;functional&gt;</code>   <code> &lt;numeric&gt;</code> 组成。</p>
<p><code>&lt;algorithm&gt;</code> 是所有STL头文件中最大的一个,其中常用的功能涉及到比较，交换，查找,遍历，复制，修改，反转，排序，合并等…</p>
<p><code>&lt;numeric&gt;</code> 体积很小，只包括在几个序列容器上进行的简单运算的模板函数.</p>
<p><code>&lt;functional&gt;</code>  定义了一些模板类,用以声明函数对象。</p>
<h1 id="常用遍历算法"><a href="#常用遍历算法" class="headerlink" title="常用遍历算法"></a>常用遍历算法</h1><h2 id="1、for-each-—-遍历容器元素"><a href="#1、for-each-—-遍历容器元素" class="headerlink" title="1、for_each( ) — 遍历容器元素"></a>1、for_each( ) — 遍历容器元素</h2><ul>
<li><p>原型：<code>for_each(iterator beg, iterator end, _callback);</code></p>
</li>
<li><p>参数:</p>
<p> beg — 开始迭代器</p>
<p> end — 结束迭代器</p>
<p> _callback  — 函数回调或者函数对象</p>
</li>
<li><p>返回值：<code>return 函数对象</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Print</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Print</span>() &#123; <span class="keyword">this</span>-&gt;m_Count = <span class="number">0</span>; &#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> m_Count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print01</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">	cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), Print01);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//返回值</span></span><br><span class="line">	Print p=for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl &lt;&lt; p.m_Count &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>for_each( )绑定参数输出</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Print</span> :</span><span class="keyword">public</span> binary_function&lt;<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">void</span>&gt;&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val,<span class="keyword">int</span> start)</span><span class="keyword">const</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;val=&quot;</span> &lt;&lt; val &lt;&lt; <span class="string">&quot; start=&quot;</span> &lt;&lt; start &lt;&lt; <span class="string">&quot; sum=&quot;</span> &lt;&lt; val + start &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">bind2nd</span>(<span class="built_in">Print</span>(), <span class="number">100</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2、transform-—-将指定容器区间元素搬运到另一容器中"><a href="#2、transform-—-将指定容器区间元素搬运到另一容器中" class="headerlink" title="2、transform( ) — 将指定容器区间元素搬运到另一容器中"></a>2、transform( ) — 将指定容器区间元素搬运到另一容器中</h2><ul>
<li><p>原型：<code>transform(iterator beg1, iterator end1, iterator beg2, _callbakc)</code></p>
</li>
<li><p>参数：</p>
<p> beg1 — 源容器开始迭代器</p>
<p> end1 — 源容器结束迭代器</p>
<p> beg2 — 目标容器开始迭代器</p>
<p> _cakkback — 回调函数或者函数对象</p>
</li>
<li><p>返回值：<code>return 返回目标容器迭代器</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Print</span> &#123;</span>    <span class="comment">//打印函数对象</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; val&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Transform</span> &#123;</span>   <span class="comment">//函数对象</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val + <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; vScore;   <span class="comment">//原容器</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		vScore.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(vScore.<span class="built_in">begin</span>(), vScore.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; vTarget;   <span class="comment">//目标容器</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(vScore.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator it = <span class="built_in">transform</span>(vScore.<span class="built_in">begin</span>(), vScore.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>(), <span class="built_in">Transform</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), vTarget.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>将容器1和容器2中的元素相加放入到第三个容器中</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Print</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; val&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Transform</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val1,<span class="keyword">int</span> val2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val1 + val2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; vScore1;   <span class="comment">//原容器</span></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; vScore2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		vScore1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		vScore2.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(vScore1.<span class="built_in">begin</span>(), vScore1.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(vScore2.<span class="built_in">begin</span>(), vScore2.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; vTarget;   <span class="comment">//目标容器</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(vScore1.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator it = <span class="built_in">transform</span>(vScore1.<span class="built_in">begin</span>(), vScore1.<span class="built_in">end</span>(), vScore2.<span class="built_in">begin</span>(), vTarget.<span class="built_in">begin</span>(), <span class="built_in">Transform</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), vTarget.<span class="built_in">end</span>(), <span class="built_in">Print</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>​    <strong>注意 : transform 不会给目标容器分配内存，所以需要我们提前分配好内存</strong></p>
<h1 id="常用查找算法"><a href="#常用查找算法" class="headerlink" title="常用查找算法"></a>常用查找算法</h1><h2 id="1、find-—-查找元素"><a href="#1、find-—-查找元素" class="headerlink" title="1、find(  ) — 查找元素"></a>1、find(  ) — 查找元素</h2><ul>
<li><p>原型：<code>find(iterator beg, iterator end, value)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>value — 查找的元素</p>
</li>
<li><p>返回值：return 返回查找元素的位置</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">//1.内置数据类型</span></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator pos = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">5</span>);</span><br><span class="line">	<span class="keyword">if</span> (pos != v.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到元素：&quot;</span> &lt;&lt; *pos &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;未找到元素&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="keyword">int</span> age) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> Person &amp;p) &#123;</span><br><span class="line">		<span class="built_in"><span class="keyword">return</span></span> (p.m_Name == <span class="keyword">this</span>-&gt;m_Name&amp;&amp;p.m_Age == <span class="keyword">this</span>-&gt;m_Age);</span><br><span class="line">	&#125;</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="keyword">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//2.自定义数据类型</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aaaa&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bbbb&quot;</span>, <span class="number">31</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;cccc&quot;</span>, <span class="number">32</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;dddd&quot;</span>, <span class="number">33</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;eeee&quot;</span>, <span class="number">34</span>)</span></span>;</span><br><span class="line">	vector&lt;Person&gt; v1;</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p5);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](Person &amp;p) &#123;cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl; &#125;);</span><br><span class="line">	vector&lt;Person&gt;::iterator ret = <span class="built_in">find</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), p3);</span><br><span class="line">	<span class="keyword">if</span> (ret != v1.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到了Person 姓名：&quot;</span> &lt;&lt; (*ret).m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; (*ret).m_Age &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;未找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、find-if-—-条件查找"><a href="#2、find-if-—-条件查找" class="headerlink" title="2、find_if(  ) — 条件查找"></a>2、find_if(  ) — 条件查找</h2><ul>
<li><p>原型：<code>find_if(iterator beg, iterator end, _callback);</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>_callback — 回调函数或者谓词(返回bool类型的函数对象) </p>
</li>
<li><p>返回值：return bool 查找返回true 否则false</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span> :</span><span class="keyword">public</span> binary_function&lt;Person*, Person*, <span class="keyword">bool</span>&gt; &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(Person* p1, Person* p2)</span><span class="keyword">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> (p1-&gt;m_Name == p2-&gt;m_Name&amp;&amp;p1-&gt;m_Age == p2-&gt;m_Age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Person* p1 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;aaaa&quot;</span>, <span class="number">30</span>);</span><br><span class="line">	Person* p2 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;bbbb&quot;</span>, <span class="number">31</span>);</span><br><span class="line">	Person* p3 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;cccc&quot;</span>, <span class="number">32</span>);</span><br><span class="line">	Person* p4 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;dddd&quot;</span>, <span class="number">33</span>);</span><br><span class="line">	Person* p5 = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;eeee&quot;</span>, <span class="number">34</span>);</span><br><span class="line">	vector&lt;Person*&gt; v1;</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(p5);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](Person *p) &#123;cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; p-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; p-&gt;m_Age &lt;&lt; endl; &#125;);</span><br><span class="line">	Person* p = <span class="keyword">new</span> <span class="built_in">Person</span>(<span class="string">&quot;bbbb&quot;</span>, <span class="number">31</span>);</span><br><span class="line">	vector&lt;Person*&gt;::iterator pos = <span class="built_in">find_if</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="built_in">bind2nd</span>(<span class="built_in">MyCompare</span>(), p));</span><br><span class="line">	<span class="keyword">if</span> (pos != v1.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到 姓名：&quot;</span> &lt;&lt; (*pos)-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：&quot;</span> &lt;&lt; (*pos)-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;未找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、adjacent-find-—-查找相邻重复元素"><a href="#3、adjacent-find-—-查找相邻重复元素" class="headerlink" title="3、adjacent_find(  ) — 查找相邻重复元素"></a>3、adjacent_find(  ) — 查找相邻重复元素</h2><ul>
<li><p>原型：adjacent_find(iterator beg, iterator end, _callback);</p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>_callback — 回调函数或者谓词(返回bool类型的函数对象) </p>
</li>
<li><p>返回值：return 返回相邻元素的第一个位置的迭代器</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">300</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">300</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator ret = <span class="built_in">adjacent_find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (ret != v.<span class="built_in">end</span>())</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;找到了相邻的重复元素： &quot;</span> &lt;&lt; *ret &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;未找到&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4、bool-binary-search-—-二分查找法"><a href="#4、bool-binary-search-—-二分查找法" class="headerlink" title="4、bool binary_search(  ) — 二分查找法"></a>4、bool binary_search(  ) — 二分查找法</h2><p><strong>注意: 在无序序列中不可用</strong></p>
<ul>
<li><p>原型：<code>bool binary_search(iterator beg, iterator end, value);</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>value — 查找的元素</p>
</li>
<li><p>返回值：return bool 查找返回true 否则false</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//v.push_back(4);  必须是有序序列，如果无效 结果未知</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">bool</span> ret = <span class="built_in">binary_search</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">2</span>);</span><br><span class="line">	<span class="keyword">if</span> (ret) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;查到了数据2&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;未找到数据2&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5、int-count-—-统计元素出现次数"><a href="#5、int-count-—-统计元素出现次数" class="headerlink" title="5、int count(  ) — 统计元素出现次数"></a>5、int count(  ) — 统计元素出现次数</h2><ul>
<li><p>原型：<code>count(iterator beg, iterator end, value);</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>value — 查找的元素</p>
</li>
<li><p>返回值：return int返回元素个数</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	<span class="keyword">int</span> num = <span class="built_in">count</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;3的个数为： &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6、count-if-—-按条件统计元素出现次数"><a href="#6、count-if-—-按条件统计元素出现次数" class="headerlink" title="6、count_if(  ) — 按条件统计元素出现次数"></a>6、count_if(  ) — 按条件统计元素出现次数</h2><ul>
<li><p>原型：<code>count_if(iterator beg, iterator end, _callback);</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>_callback — 回调函数或者谓词(返回bool类型的函数对象) </p>
</li>
<li><p>返回值：return int返回元素个数</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GreaterThan3</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt;= <span class="number">3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//统计大于等于3的个数</span></span><br><span class="line">	<span class="keyword">int</span> num = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">GreaterThan3</span>());</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;大于等于3的个数为： &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用排序算法"><a href="#常用排序算法" class="headerlink" title="常用排序算法"></a>常用排序算法</h1><h2 id="1、merge-—-容器元素合并，并存储到另一容器中"><a href="#1、merge-—-容器元素合并，并存储到另一容器中" class="headerlink" title="1、merge(  ) — 容器元素合并，并存储到另一容器中"></a>1、merge(  ) — 容器元素合并，并存储到另一容器中</h2><p><strong>注意 : 两个容器必须是有序的,顺序要一致</strong></p>
<ul>
<li><p>原型：<code>merge(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest)</code></p>
</li>
<li><p>参数：</p>
<p>beg1 — 容器1开始迭代器</p>
<p>end1 —  容器1结束迭代器</p>
<p>beg2 — 容器2开始迭代器</p>
<p>end2 — 容器2结束迭代器</p>
<p>dest — 目标容器开始迭代器</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;vTarget; <span class="comment">//目标容器</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>() + v2.<span class="built_in">size</span>());</span><br><span class="line">	<span class="built_in">merge</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), vTarget.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、sort-—-容器元素排序"><a href="#2、sort-—-容器元素排序" class="headerlink" title="2、sort(  ) — 容器元素排序"></a>2、sort(  ) — 容器元素排序</h2><ul>
<li><p>原型：<code>sort(iterator beg, iterator end, _callback)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>_calback — 回调函数或者谓词(返回bool类型的函数对象)</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">sort</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3、random-shuffle-—-对指定范围内的元素随机调整次序"><a href="#3、random-shuffle-—-对指定范围内的元素随机调整次序" class="headerlink" title="3、random_shuffle(  ) — 对指定范围内的元素随机调整次序"></a>3、random_shuffle(  ) — 对指定范围内的元素随机调整次序</h2><ul>
<li><p>原型：<code>random_shuffle(iterator beg, iterator end)</code></p>
</li>
<li><p>参数：</p>
<p>beg —  容器开始迭代器</p>
<p>end —  容器结束迭代器</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">random_shuffle</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>());</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4、reverse-—-反转指定范围的元素"><a href="#4、reverse-—-反转指定范围的元素" class="headerlink" title="4、reverse(  )  — 反转指定范围的元素"></a>4、reverse(  )  — 反转指定范围的元素</h2><ul>
<li><p>原型：<code>reverse(iterator beg, iterator end);</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">reverse</span>(v1.<span class="built_in">begin</span>() + <span class="number">3</span>, v1.<span class="built_in">end</span>() - <span class="number">3</span>);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用拷贝和替换算法"><a href="#常用拷贝和替换算法" class="headerlink" title="常用拷贝和替换算法"></a>常用拷贝和替换算法</h1><h2 id="1、copy-—-将容器内指定范围的元素拷贝到另一容器中"><a href="#1、copy-—-将容器内指定范围的元素拷贝到另一容器中" class="headerlink" title="1、copy(  ) — 将容器内指定范围的元素拷贝到另一容器中"></a>1、copy(  ) — 将容器内指定范围的元素拷贝到另一容器中</h2><ul>
<li><p>原型：<code>copy(iterator beg, iterator end, iterator dest)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line">	v2.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>());</span><br><span class="line">	<span class="built_in">copy</span>(v1.<span class="built_in">begin</span>() , v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、replace-—-将容器内指定范围的旧元素修改为新元素"><a href="#2、replace-—-将容器内指定范围的旧元素修改为新元素" class="headerlink" title="2、replace(  ) — 将容器内指定范围的旧元素修改为新元素"></a>2、replace(  ) — 将容器内指定范围的旧元素修改为新元素</h2><ul>
<li><p>原型：<code>replace(iterator beg, iterator end, oldvalue, newvalue)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器 </p>
<p>oldvalue —  旧元素</p>
<p>newvalue — 新元素</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">replace</span>(v1.<span class="built_in">begin</span>() + <span class="number">5</span>, v1.<span class="built_in">end</span>(), <span class="number">8</span>, <span class="number">1000</span>);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、replace-if-iterator-beg-iterator-end-callback-newvalue"><a href="#3、replace-if-iterator-beg-iterator-end-callback-newvalue" class="headerlink" title="3、replace_if(iterator beg, iterator end, _callback, newvalue)"></a>3、replace_if(iterator beg, iterator end, _callback, newvalue)</h2><ul>
<li><p>原型：<code>replace_if(iterator beg, iterator end, _callback, newvalue)</code></p>
</li>
<li><p>参数：</p>
<p>beg —  容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>_callback —  函数回调或者谓词(返回Bool类型的函数对象)</p>
<p>newvalue —  新元素</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCompare</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt; <span class="number">5</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">replace_if</span>(v1.<span class="built_in">begin</span>() , v1.<span class="built_in">end</span>(), <span class="built_in">MyCompare</span>(), <span class="number">100</span>);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4、swap-—-互换两个容器的元素"><a href="#4、swap-—-互换两个容器的元素" class="headerlink" title="4、swap(  ) — 互换两个容器的元素"></a>4、swap(  ) — 互换两个容器的元素</h2><ul>
<li><p>原型：<code>swap(container c1, container c2)</code></p>
</li>
<li><p>参数：</p>
<p>c1 — 容器1</p>
<p>c2 — 容器2</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">100</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">swap</span>(v1, v2);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用生成算法"><a href="#常用生成算法" class="headerlink" title="常用生成算法"></a>常用生成算法</h1><h2 id="1、accumulate-—-计算容器元素累计总和"><a href="#1、accumulate-—-计算容器元素累计总和" class="headerlink" title="1、accumulate(  ) — 计算容器元素累计总和"></a>1、accumulate(  ) — 计算容器元素累计总和</h2><ul>
<li><p>原型：<code>accumulate(iterator beg, iterator end, value)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>value —  累加起始值</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">int</span> num = <span class="built_in">accumulate</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(),<span class="number">0</span>);   <span class="comment">//// 参数3代表 累加起始值</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;num=&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、fill-—-向容器中填充元素"><a href="#2、fill-—-向容器中填充元素" class="headerlink" title="2、fill(  ) — 向容器中填充元素"></a>2、fill(  ) — 向容器中填充元素</h2><ul>
<li><p>原型：<code>fill(iterator beg, iterator end, value)</code></p>
</li>
<li><p>参数：</p>
<p>beg — 容器开始迭代器</p>
<p>end — 容器结束迭代器</p>
<p>value —  累加起始值</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	v1.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">fill</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="number">20</span>);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用集合算法"><a href="#常用集合算法" class="headerlink" title="常用集合算法"></a>常用集合算法</h1><p><strong>注意:两个集合必须是有序序列</strong></p>
<h2 id="1、set-intersection-—-求两个set集合的交集"><a href="#1、set-intersection-—-求两个set集合的交集" class="headerlink" title="1、set_intersection(  ) —  求两个set集合的交集"></a>1、set_intersection(  ) —  求两个set集合的交集</h2><ul>
<li><p>原型：<code>set_intersection(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest)</code></p>
</li>
<li><p>参数：</p>
<p>beg1 —  容器1开始迭代器</p>
<p>end1 — 容器1结束迭代器</p>
<p>beg2 — 容器2开始迭代器</p>
<p>end2 — 容器2结束迭代器</p>
<p>dest — 目标容器开始迭代器</p>
</li>
<li><p>返回值：return 目标容器的最后一个元素的迭代器地址</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v3;</span><br><span class="line">	v3.<span class="built_in">resize</span>(<span class="built_in">min</span>(v1.<span class="built_in">size</span>(), v2.<span class="built_in">size</span>()));</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator itEnd = <span class="built_in">set_intersection</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v3.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(v3.<span class="built_in">begin</span>(), itEnd, [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、set-union-—"><a href="#2、set-union-—" class="headerlink" title="2、set_union(  ) —"></a>2、set_union(  ) —</h2><ul>
<li><p>原型：<code>set_union(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest)</code></p>
</li>
<li><p>参数：</p>
<p>beg1 —  容器1开始迭代器</p>
<p>end1 — 容器1结束迭代器</p>
<p>beg2 — 容器2开始迭代器</p>
<p>end2 — 容器2结束迭代器</p>
<p>dest — 目标容器开始迭代器</p>
</li>
<li><p>返回值：return 目标容器的最后一个元素的迭代器地址</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v3;</span><br><span class="line">	v3.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>()+v2.<span class="built_in">size</span>());</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator itEnd = <span class="built_in">set_union</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v3.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(v3.<span class="built_in">begin</span>(), itEnd, [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、set-difference-iterator-beg1-iterator-end1-iterator-beg2-iterator-end2-iterator-dest-—"><a href="#3、set-difference-iterator-beg1-iterator-end1-iterator-beg2-iterator-end2-iterator-dest-—" class="headerlink" title="3、set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest) —"></a>3、set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest) —</h2><ul>
<li><p>原型：<code>set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest)</code></p>
</li>
<li><p>参数：</p>
<p>beg1 —  容器1开始迭代器</p>
<p>end1 — 容器1结束迭代器</p>
<p>beg2 — 容器2开始迭代器</p>
<p>end2 — 容器2结束迭代器</p>
<p>dest — 目标容器开始迭代器</p>
</li>
<li><p>返回值：return 目标容器的最后一个元素的迭代器地址</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v1;</span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt; v3;</span><br><span class="line">	v3.<span class="built_in">resize</span>(<span class="built_in">max</span>(v1.<span class="built_in">size</span>(), v2.<span class="built_in">size</span>()));</span><br><span class="line">	<span class="comment">//v1与v2的差集</span></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;::iterator itEnd = <span class="built_in">set_difference</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v3.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(v3.<span class="built_in">begin</span>(), itEnd, [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="keyword">int</span>&gt;v4;</span><br><span class="line">	v4.<span class="built_in">resize</span>(<span class="built_in">max</span>(v1.<span class="built_in">size</span>(), v2.<span class="built_in">size</span>()));</span><br><span class="line">	<span class="comment">//v2与v1的差集</span></span><br><span class="line">	itEnd = <span class="built_in">set_difference</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(),v4.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(v4.<span class="built_in">begin</span>(), itEnd, [](<span class="keyword">int</span> val) &#123;cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>; &#125;);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>








      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CandyKing</p>
  <div class="site-description" itemprop="description">虾米</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CandyKing</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
